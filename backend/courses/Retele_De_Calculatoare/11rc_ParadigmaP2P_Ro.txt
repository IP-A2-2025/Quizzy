***************Beginning Page***************
***************page number:1**************
Lenuta Alboaie (adria@info.uaic.ro)
Andrei Panu (andrei.panu@info.uaic.ro)
Retele de calculatoare — https://www.info.uaic.ro/”computernetworks

***************Ending Page***************

***************Beginning Page***************
***************page number:2**************
Cuprins
' Paradigma peer-to-peer (P2P)
—Pre|iminarii
— Definitii
— Ca ra cteriza re
—Tipuri de aplicatii
— Infrastructuri
— lnstrumente
—

***************Ending Page***************


***************Beginning Page***************
***************page number:3**************
Prellmlnarll
...sa ne reamintim modelul client/server
Server
I; 2
Client
Internet
int Client
—

***************Ending Page***************

***************Beginning Page***************
***************page number:4**************
Preliminarii

...sa ne reamintim modelul client/server

' Uzual, privim clientul ca fiind o componenta avand
capacitati computationale reduse

' Serverul este mentinut si administrat in mod
centralizat

Probleme ale arhitecturii client/server:

' Lipsa robustetii

' Lipsa sigurantei (eng. reliability)

' Lipsa scalabilitatii

' Vulnerabilitate la atac

—

***************Ending Page***************


***************Beginning Page***************
***************page number:5**************
Defi nitii

Peer = one that is of equal standing with another

(conform Webster)
Peer-to-peer (P2P) = arhitectura de retea in care

nodurile sunt relativ egale

— In sensul ca fiecare nod este, in principiu, capabil sa

realizeze functii specifice retelei
—

***************Ending Page***************

***************Beginning Page***************
***************page number:6**************
Defl n |t||
Sistemele P2P, in sens strict,
sunt sisteme complet Q
distribuite El +Node g
— Toate nodurile sunt Node
total echivalente, in
termeni de Internet
functionalitate si a
activitatilor pe ca re Ie Node Node
pot desfasura
Obs.: Sistemele P2P pure sunt rare (de ex. Gnutella); majoritatea
sunt hibride, avand supernoduri sau servere cu diferite roluri
(de ex. cautare de date, control etc.)
6

***************Ending Page***************


***************Beginning Page***************
***************page number:7**************
Defl n |t||
- Nodurile
- Pot consuma si oferi
date
. . . . |:| NOde El
- Orlce nod poate |n|t|a g g
0 conexiune Nl0dg\ /‘Nl°de
- Nu exista sursa de date Internet
centralizata =>
- Forma de democratie Se Node
pe Internet
- Protectie copyright
amenintata
7
—

***************Ending Page***************

***************Beginning Page***************
***************page number:8**************
Def | n |t| |
' "P2P este clasa de aplicatii care se bazeaza pe resursele (de

stocare, de procesare, continut, prezente umane) disponibile la
marginile (edges) lnternet-ului

Q

Q-I-D
*I‘ "Eli-'32"
a» ' Edges of the Internet
1'!) ‘43' -> (overlay networks)
‘n. v 4-1-0 '
8

***************Ending Page***************


***************Beginning Page***************
***************page number:9**************
Defl n |t||

"P2P is a class of applications that take advantage of resources —
storage, cycles, content, human presence — available at the
edges of the Internet. Because accessing these decentralized
resources means operating in an environment of unstable and
unpredictable IP addresses, P2P nodes must operate outside
the DNS system and have significant or total autonomy from
central servers"

"A distributed network architecture may be called a P2P network
if the participants share a part of their own resources. These
shared resources are necessary to provide the service offered
by the network. The participants of such a network are both
resource providers and resource consumers”

9
—

***************Ending Page***************

***************Beginning Page***************
***************page number:10**************
Ca ra cterlza re
Caracteristici definitorii:

— Partajarea resurselor computationale prin
interschimb direct si mai putin prin intermedieri
oferite de 0 autoritate centralizata (server)

' Serverele centralizate pot fi folosite insa pentru a
realiza activitati specifice (initializarea retelei P2P,
adaugarea de noi noduri in retea,...)

° Ideal, nodurile participa activ si unilateral la
realizarea de operatii ca localizarea & caching-ul
nodurilor/continutului, dirijarea informatiilor,
managementul resurselor transferate etc.

—

***************Ending Page***************


***************Beginning Page***************
***************page number:11**************
Ca ra cterlza re
Caracteristici definitorii:
— Abilitatea de a trata instabilitatea si variatiile
conctivitatii retelei, adaptandu-se automat Ia
erorile survenite sau Ia dinamicitatea nodurilor
' Topologia retelei P2P e adaptiva si toleranta Ia
defecte, nodurile auto-organizandu-se in
vederea mentinerii conectivitatii si
performantei retelei
—

***************Ending Page***************

***************Beginning Page***************
***************page number:12**************
Ca ra cteriza re
Reteaua P2P este una suprapusa (overlay) peste cea

fizica

— Se situeaza Ia nivelul aplicatie => flexibilitate

— IVIuchiile virtuale sunt conexiuni TCP sau pointeri Ia
adrese IP

— IVIentinerea retelei P2P se face prin verificarea
periodica a conectivitatii (ping) ori a existentei
(mesaje "still alive?”)

— Cand un nod pica, sistemul P2P ar putea stabili noi
muchii

— Proximitatea (fizica) a nodurilor nu e importanta

— Reteaua P2P poate fi structurata sau nu 12

—

***************Ending Page***************


***************Beginning Page***************
***************page number:13**************
Scopuri si beneficii
' Utilizarea eficienta a resurselor
— Latimea de banda neutilizata, resurse de stocare, putere de procesare
disponibile Ia marginile (edges) retelei
' Scalabilitate
— Fara informatii centralizate, fara bottleneck-uri (de comunicare si de
calcul)
— Agregarea resurselor se face in mod natural odata cu utilizarea sistemului
' Siguranta (eng. reliability)
— Existenta de copii a datelor
— Distribuire geografica
— Nu mai exista "single point of failure"
' Administrare usoara
— Nodurile se auto-organizeaza
— Cresterea tolerantei la erori si a echilibrarii incarcarii
— Cresterea autonomiei
' Anonimitatea
— Greu de realizat intr-un sistem centralizat
' Dinamism
— Mediu dinamic
— Colaborare si comunicare ad-hoc 13
—

***************Ending Page***************

***************Beginning Page***************
***************page number:14**************
Dezava ntaje/Probleme
— Arhitecturile P2P sunt probabilistice
' Localizare impredictibila a resurselor
' Resursele sunt volatile
— lnexistenta unui control centralizat
' Probleme privind impunerea unei autoritati asupra
aplicatiilor, continutului si utilizatorilor
' Dificultati in detectarea si identificarea utilizatorilor (aspecte
anti-sociale)
— lncurajarea folosirii sistemelor P2P in scop abuziv si ilegal (de ex.
drepturile de autor asupra continutului digital)
— Lipsa increderii la nivel comercial, de afaceri
— Probleme de securitate (curs viitor)
14
—

***************Ending Page***************


***************Beginning Page***************
***************page number:15**************
Evol utle...
Timeline 0f Pnpular Peer-tp-Peer Pmtuculs
l999 2000 2001 2002 "H 2005 "-- 2003 2016
Grid Cmnpuling:Sali@Hpmp _ _ _ _ _ Spotify" IPFS
File Sharing: Napster
— * — _ — _ — — _ —
Gnutella
ernl-iey, FastTrack {Kama} etc.
Support for games, pod casting, vidpp
- - - - l- —
streaming, P2P SIP, nmhile P2P, etc.
15

***************Ending Page***************

***************Beginning Page***************
***************page number:16**************
Tipuri de aplicatii
' Comunicare & colaborare
— Sisteme ce ofera 0 infrastructura pentru facilitarea comunicarii &
colaborarii directe, deseori in timp real, intre noduri
' Sisteme conversationale (chat, mesagerie instantanee):
IRC (Internet Relay Chat), ICQ (1996), Y|\/|!, IVISN Messenger,
Skype, Sisteme multicast P2P (e.g. Cirrus — Adobe Flash
httgzﬂIabs.adobe.c0m[technologiesZcirrusZ; WebRTC ),
' Calcul distribuit
— Sisteme ce folosesc puterea computationala a nodurilor disponibile
(cicli de procesor)
' Rezolvarea unor probleme prin divide-et-impera: SET|@h0me
(Search for Extra-Terrestrial Intelligence-Berkeley),
genome@home
' Reteaua P2P reprezinta un gen de Grid computational (...curs
master) 16
—

***************Ending Page***************


***************Beginning Page***************
***************page number:17**************
Tlpurl de apllcatni Calcul dlstrlbwt - Exemplu
SET] at Heine: A Ptthli e-Re aetiree Cetnpttti a}; E-itne ri inenl
‘l’ AEEI

Eh aaha aa:
MTII‘ SEllflrriltIQ-{rﬂrru strinl lntulligunua- n1 Hf'Jl'u'l F H‘ hLlFIIHHEIiEILhDLTIE.bﬁl'kﬁlﬁj;jlelJ"
Dita ﬂnnhpis "I'll Infn
". J'TIIIIIJ'JFLH 33E l'II".l'l":' il-FIFIEFIII-‘lrl l;l-";:-I;. — t IIIITI. l I |'|l 1L; ‘.11- |'-.-'-|. 4' I " UIEIIII ";-I_-' ..".-' L'EII'.
["1711 IF" I':r|l1 |==|l* l' F--'-.'-|'| HFI'"I=|': F-E'Til'IIJI'Il'l l'l l'lF- H? F.‘*-':I'r-'IFII'I I‘ Fl "."'."F|.':l - Fm l'l-'| 'l"4'.=i=i ‘I? :"l'l'l -'-f.'1T
Fl-P-IIII'-1|1"-.'|'.'| F'I'Iwr.‘ l'lI'II'I Fl F .'-'l"' "i-ur-F .E-rﬁ-llir-F'arl-‘I '.I|'|'=H'-.-'-.'h'-",-'
Has-a "ra:I_-er|-:--.-' 1.-|'_'-II+1-IliIilI-l 3H;
_— —'-"'____I__ _____ __- —— ljacrlrl'u
'-l1l"IE" I'd-$111‘ LIEIIIIIl'E-'.-
1H: ullt; -.-.-'rnl*.i':-.1 E'E'Z
-.Ir-.-:r;-l| .::~z=:-'; |.||_|-.= -.I.F'l_l‘.inr: Errr :::.-: r “ta I -_-1_-|_ F'-"'-'-"'E‘T""“"-"-':" “m ‘3";5'H'5“ "'" 5': i' 5"“
II Radie teleaeepe signal analysis has insatiable appetite i'er eentputing pewer
II Usage et'eeniptltera in helnea and ei'i'ieea areund the werid has previded
unprecedented eentpttling pewer
II Grid eentpttling applieatien 1aia peer-te-peer appreaeh tinder eenlrai eenlrei
Retele de calculatoare — https://www.info.uaic.ro/”computernetworks

***************Ending Page***************

***************Beginning Page***************
***************page number:18**************
Tlpurl de apllcatll
' Sisteme de stocare (baze de date)
— Proiectare de sisteme de baze de date distribuite bazate pe infrastructuri
P2P

' PIER — motor scalabil de interogare distribuita
(http://pier.cs.berkeley.edu/)

' Edutella — proiect open-source pentru interogari si stocare de meta-
date (P2P pentru Semantic Web)

' Distribuire de continut digital
— Sisteme & infrastructuri pentru partajarea resurselor digitale (multimedia
si alte date) intre utilizatori

' Aplicatii pentru partajarea fisierelor (e.g. Napster, Gnutella, KaZaA,
Freenet, BitTorrent, eDonkey etc.)

' IVIedii de stocare distribuita pentru publicarea, organizarea,
indexarea, cautarea si regasirea datelor in maniera securizata &
eficienta
(PAST, Chord, Groove, Mnemosyne, Avalanche,...)

18

***************Ending Page***************


***************Beginning Page***************
***************page number:19**************
Tlpurl de apllcatll
- Distribuire de continut digital | Exemplu
P2P File-Sharing: Fast distribution of large files
‘ 1%-‘--- -._ 3:‘ I“ "-25.1 _- .- _ .v ,, .- _.~'--'"' "_"'.'- _'N?'; ‘If’
Example: Harry Potter Ill early propagation after 2 hours on
May 28th 2004 (SOUI'CGI u-‘n'w.I'm“.("(vl/DIC/NGHts/urcllivc’.III/I'll) 19
Retele de calculatoare — https://www.info.uaic.ro/”computernetworks

***************Ending Page***************

***************Beginning Page***************
***************page number:20**************
Tipuri de aplicatii
' Distribuire de continut prin P2P
— Sisteme P2P de “interschimb de fisiere”

' Nodurile transfera un fisier la un moment dat

' Se ofera facilitati pentru realizarea unei retele
P2P si pentru cautarea&transferul de fisiere
intre noduri

' Nu se ofera suport pentru securitate,
disponibilitate si persistenta

' Exemple: Napster, KaZaA, Gnutella

—

***************Ending Page***************


***************Beginning Page***************
***************page number:21**************
Tipuri de aplicatii
' Distribuire de continut prin P2P
— Sisteme P2P pentru publicarea & stocarea
continutului
' Utilizatorii pot publica, stoca si distribui
continut digital, pe baza unor drepturi de acces
(privilegii)
' Se focalizeaza asupra securitatii si persistentei
' Unele ofera si facilitati privind colaborarea intre
utilizatori
' Exemple: Scan, Groove, Freenet, IVIojoNation,
Tangler 21
—

***************Ending Page***************

***************Beginning Page***************
***************page number:22**************
Tipuri de aplicatii
' Distribuire de continut prin P2P
— lnfrastructuri pentru:

' Dirijare & Localizare:
Chord, Can, Pastry, Tapestry, Kademila

' Anonimitate:
Onion Routing, ZeroKnowledge, Freedom,
Tarzan

' Managementul reputatiei:
Eigentrust, PeerTrust

—

***************Ending Page***************


***************Beginning Page***************
***************page number:23**************
lnfrastruc.(localizare & dirijare)
' IVIecanismele de localizare si dirijare ce pot fi
adoptate depind de:
— Topologia
— Structura
— Gradul de centralizare
ale retelei suprapuse, acoperitoare (overlay
network)
—

***************Ending Page***************

***************Beginning Page***************
***************page number:24**************
Infrastruc.(localiza re & dirija re)
' Aspecte privind centralizarea

— Arhitecturi pur descentralizate: toate nodurile
realizeaza exact aceleasi activitati, jucand simultan
roluri de servere si clienti, fara a beneficia de o
coordonare centrala

' Nodurile se numesc servents (SERVers +
cHeENTS)
—

***************Ending Page***************


***************Beginning Page***************
***************page number:25**************
Infrastruc.(loca|iza re & dirija re)
' Aspecte privind centralizarea
— Arhitecturi partial centralizate: unele noduri au un rol mai
important (de ex. stocand indecsi locali pentru fisierele
partajate)
' Nodurile devin supernoduri conform politicilor fiecarui
sistem P2P
' Rolul de supernod este stabilit dinamic
— Arhitecturi descentralizate hibride: exista un server
central facilitand interactiunea intre noduri, mentinand
cataloage de meta-date ale fisierelor
' Serverele pot identifica si verifica nodurile de stocare
' Sistemele se mai numesc broker mediated
25
—

***************Ending Page***************

***************Beginning Page***************
***************page number:26**************
Infrastruc.(loca|iza re & dirija re)
' Aspecte privind structura retelei:
— Nestructurata: plasarea continutului este complet
independenta de topologia retelei suprapuse
' Continutul trebuie localizat
' Strategii de cautare prin "forta bruta”: inundarea
retelei — cereri propagate via BFS/DFS
' Strategii mai sofisticate: drumuri aleatorii,
probabilistice etc.
— Slab structurata (loosely structured): desi localizarea
continutului nu e complet specificata, aceasta este
afectata de dirija re
' Categorie aflata intre retele structurate si cele
nestructurate 26
—

***************Ending Page***************


***************Beginning Page***************
***************page number:27**************
Infrastruc.(loca|iza re & dirija re)
' Aspecte privind structura retelei:
— Structurata: topologia este controlata, iar fisierele (sau
pointerii la ele) sunt plasate in locatii precise
' Se realizeaza o asociere (mapping) intre continut
(identificatorul de fisier) si locatie (adresa nodului)
— In genul unei tabele de rutare distribuita
' Cautarile exacte (exact-match queries) pot fi realizate in
mod scalabil
' Structura folosita Ia dirijarea eficienta a mesajelor este
dificil de mentinut in cazul unor noduri tranziente, cu
rata mare de atasare si deconectare de Ia retea
27
—

***************Ending Page***************

***************Beginning Page***************
***************page number:28**************
|nfrastruc.(loca||za re & dlrljare)
——
Hibrida Partiala Absenta
u Napster KaZaA Gnutella
Nestructurata . Morpheus
Publlus FreeHaven
Edutella
Infrastructura Chord, CAN,
structurata Tapestry, Pastry
OceanStore
Sisteme Scan, PAST,
structurate Kademlia,
Tarzan
28

***************Ending Page***************


***************Beginning Page***************
***************page number:29**************
Arh ltectu r| nestructu rate

Descentralizate hibride
- Fiecare calculator client

stocheaza continut (fisiere)

partajat(e) \ f @
- Serverul central mentine o tabela ¢ /-

cu conexiunile utilizatorilor rH R.

inregistrati (IP, latime de /' 1 3‘; (I Client )

banda,...) + o tabela cu Iista Lia‘?

fisierelor ﬁecarui utilizator

A}

&meta-date é%nw%

- Exemple: Napster, Publius
29

***************Ending Page***************

***************Beginning Page***************
***************page number:30**************
Arhitecturi nestructu rate
Napster
' 1999: Sean Fanning lanseaza Napster
' A atins cota de 1.5 milioane de utilizatori simultan
' Baza de date centralizata - operatii:
— Join: clientul contacteaza serverul central (via TCP)
— Publish: raportarea unei liste de fisiere serverului
central
— Search: interogarea serverului => se intoarce
cineva care stocheaza fisierul cerut
— Fetch: ia fisierul direct de la peer (cel cu cea mai
buna rata de transfer)
' lulie 2001: Napster a fost inchis
—

***************Ending Page***************


***************Beginning Page***************
***************page number:31**************
Arh ltectu r| nestructu rate
Napster: PUinSh Napster: Search
I ‘ ‘m1’ 123.2.0.13 I l mm
I. w $ l. w 1%
m insert(X, é, m search(A) é.
1232.21.23) "’ -:-~ ”"
I??? - Fem“ I? 12320.13 '-
Publish/ EW//REP|Y
l g, i
lhave X, Y, and z! é’ M Where i5 ﬁleA? w w
_ .. 1232.21.23
Dlscutu:
- Serverul face toate procesarile
- Avem "single point offal/ure”
- Probleme de scalabilitate, unele sisteme nu permit adaugarea altor servere
(Iista serverelor disponibile este statica) 31

***************Ending Page***************

***************Beginning Page***************
***************page number:32**************
Arh itectu ri nestructu rate
Descentralizate pure
- Se construieste o retea acoperitoare (overlay) cu propriile mecanisme
de rutare prin IP
- Nu exista o coordonare centrala
- Utilizatorii se conecteaza via o aplicatie care are rol dublu — servent
- Comunicarea intre serventi se bazeaza pe un protocol Ia nivel de
aplicatie, cu 4 tipuri de mesaje:
- Ping- cere ca un nod sa se anunte
- Pong — replica Ia mesajul ping (IP, port, numarul & marimea
fisierelor)
- Query — cerere de cautare (sir de cautare + viteza minima de
transfer)
- Query hints — raspuns (IP, port, viteza, dim. fis., index fis.)
32
—

***************Ending Page***************


***************Beginning Page***************
***************page number:33**************
Arhitectu ri nestructu rate
Descentralizate pure
- Cautarea se realizeaza prin inundare (flooding)
- Daca nu ai fisierul dorit, intreaba pe n vecini
- Daca nici ei nu au fisierul, vor intreba pe vecinii Ior in maxim
m hop-uri
- Pe calea de intoarcere se vor intoarce raspunsurile (nu
continutul fisierelor)
- Fiecare mesaj are un TTL atasat
- Exemplu: Gnutella
33
—

***************Ending Page***************

***************Beginning Page***************
***************page number:34**************
Arhitectu ri nestructu rate

Gnutella
' 2000: L. Frankel si T. Pepper(Nu||soft) Ianseaza Gnutella
' Apar clienti: Bearshare, Morpheus, LimeWire
' Query Flooding:

— .Ioin: la intrare in sistem, clientul contacteaza cateva noduri

care devin “vecinii” sai
— Publish: nu este necesar
— Search: se intreaba vecinii, care isi intreaba vecinii Ior,
' Exista un TTL ce limiteaza propagarea
— Fetch: preia fisierul direct de Ia peer
34
—

***************Ending Page***************


***************Beginning Page***************
***************page number:35**************
Arhitectu ri nestructu rate
Ihave ﬁleA.
Gnutella
lhave ﬁleA. l"'—.- ‘m
g, w $ \
M l
Reply .. ﬁ
0%.. .-
Aspecte; WhereisﬁleA? Mi» M
' Timpul de cautare este... O(?)
' Nodurile pleaca adesea => reteaua instabila
—

***************Ending Page***************

***************Beginning Page***************
***************page number:36**************
Arhitectu ri nestructu rate

Partial centralizate

- Folosesc conceptul de supernod: are activitati de servire a unei
sub-retele P2P (indexare, caching)

- Nodurile sunt alese automat ca fiind supernoduri daca au
suficienta latime de banda si putere computationala

- Toate cererile sunt trimise initial la supernoduri

- Avantaje: timpul descoperirii resurselor e mai redus +
eterogenitatea este exploatata

- Exemplu: KaZaA

36
—

***************Ending Page***************


***************Beginning Page***************
***************page number:37**************
Arh Itectu r| nestructu rate
KaZaA
' 2001: Se lanseaza KaZaA
' Apar clienti: Morpheus, giFT
' Se utilizeaza un mecanism de tip "smart" queryflooding:

— Join: Ia intrare in sistem, clientul contacteaza un
"supernode" (poate deveni si el supernod Ia un moment
dat)

— Publish: trimite lista de fisiere supernodu/ui

— Search: trimite interogarea supernodu/ui, si supernodurile
se interogheaza intre ele

— Fetch: ia fisierul direct de la peer(s); poate prelua fisierul
simultan de la mai multe peer-uri

37

***************Ending Page***************

***************Beginning Page***************
***************page number:38**************
Arhitecturi nestructurate
KaZaA: Designul retelei
“Super Nodes”
,__.....__-1—1
w 1g —n w
Q ma
w ‘g é m
38

***************Ending Page***************


***************Beginning Page***************
***************page number:39**************
Arh ltectu r| nestructu rate
KaZaA: lnserarea de Fisiere KaZaA: Cautarea de Fisiere
insert(X, $2 k \ iiarchm) '1.
1232-21-23) g 123 2 22 50 —'a
Publish A , I- =. =
Ihave X! ‘ __ ‘ -
w, @ 3 w QUEWEPIIES -"-=--=-» 12320-13
1232.21.23 @
Wh ' fl A? I- '-
Dlscutll. _ m
_ _ _ _ _ 123E013
- Comportament Slmllar cu Gnutella, dar mal eflclent
- Nu este nici 0 garantie asupra timpului de cautare sau a
domeniului de cautare
39

***************Ending Page***************

***************Beginning Page***************
***************page number:40**************
Arh itectu ri nestructu rate
Partial centralizate
- Software-ul KaZaA este proprietar
- Datele de control P2P sunt criptate
- IVIesajele folosesc HTTP
- Un nod e fie un supernod, fie asignat unui supernod
- Un supernod are 100-150 noduri-copil
- O retea poate avea ~30000 supernoduri
- Fiecare supernod are conexiuni TCP cu 30-50 supernoduri
- Pentru fiecare fisier se mentin meta-date (nume, dimensiune,
content hash, descriptor de fisier)
- Content hash-ul este folosit pentru cautarea altei copii a unui
fisier partial transferat
- Va ria nta fara spyware si pop-up-uri: KaZaA-lite 4O
—

***************Ending Page***************


***************Beginning Page***************
***************page number:41**************
Arh itectu r| nestructu rate
Skype
Silt-ﬂue lugln server
Typesofhusts
- Prima retea de telefonie p2p bazata
pe IP
- din lunie 2014, Microsoft a anuntat
incompatibilitatea cu protocolul *“Ptrm't
anterior Skype Mil-W "Mt
- foloseste Microsoft Notification
Protocol 24 (prima utilizare -> MSN
Messenger in 1999)
- arhitectura era similara cu KaZaA
http://www1.cs.co|umbia.edu/~salman/publications/skype1_4.pdf
41

***************Ending Page***************

***************Beginning Page***************
***************page number:42**************
Skype
‘RIDES 0f hDEIIE Skype legln server

lilrndinzir'ilr heel: Super nudes Legin server
- Fiecare client mentinea un host

cache cu adresele IP si numerele de

port ale supernodurilor accesibile
- Orice client cu Iatime de banda (si

. .. . Eur-I13?‘ I'Iﬂﬂf:
fara restrict“ de ﬁrewall sau NAT)
- |:|r||:l||'|E|r'|I has!

putea devenl supernode
- din 2012, Microsoft a inceput

gazduirea supernodurilor in servere

din centrele sale de date

http://en.wikipedia.org/wiki/PRISM_%28surveillance_program%29
42

***************Ending Page***************


***************Beginning Page***************
***************page number:43**************
Arh itectu ri nestructu rate

Partial centralizate
- Daca un fisier este gasit pe mai multe noduri, transferul poate fi realizat in

paralel

- Copiile identice se identifica via content hash
- Diferite portiuni din fisier sunt transferate de pe noduri diferite
- Pentru transferurile intrerupte, se face o recuperare automata (automatic

recovery)
- Exemplu: BitTorrent

- In 2002, B. Cohen a Iansat BitTorrent

- Si-a propus concentrarea pe problema legata de obtinerea eficienta a

resurselor (efficient fetching) si nu pe cautare (searching)
- Sustinatori inca de Ia aparitie
- Blizzard Entertainment folosea BitTorrent pentru distributia
versiunilor beta a noilorjocuri
43
—

***************Ending Page***************

***************Beginning Page***************
***************page number:44**************
Arh ltectu r| nestructu rate
Partial centralizate
. . UL] Trucker"
B|tTorrent - arhltectura l l
1. GET ‘Filed'urreni' 2- GE 3. lisi' of
peers
“=1 t _,
‘~—4
\ :: |
_ _
' lengTh
' name.
‘hush
' ur1| of Trucker‘
44

***************Ending Page***************


***************Beginning Page***************
***************page number:45**************
Arh itectu ri nestructu rate
Partial centralizate
BitTorrent
- Se bazeaza pe mecanismul de swarming:
- Join: contacteaza un server centralizat (tracker) si obtine 0 lista
de peer-uri
- Publish: ruleaza un server tracker
- Search: de ex. foloseste Google pentru a gasi un tracker pentru
fisierul dorit
- Fetch: Preia bucati de fisiere de Ia peer-uri; incarca bucatile de
fisier pe care le ai
- Obs. Diferenta fata de Napster
- Down/od-ul de bucati (chunk) de fisiere
- Utilizarea strategiei "tit-for-tat”: daca A face download de la
alte noduri, atunci A trebuie sa permita si download-u! de Ia el
'iree-rider irobleml 45

***************Ending Page***************

***************Beginning Page***************
***************page number:46**************
Arh itectu ri nestructu rate
Probleme
- Noduri ale caror adrese lP sunt disponibile via NAT (cu restrictii)
- Nu pot fi servere TCP pentru reteaua P2P
- Solutie partiala: reverse call
- A vrea sa transfere de Ia B, iar B foloseste NAT
- A si B stabilesc conexiuni TCP cu serverul C (IP rutabil)
- A poate cere lui B, via C, sa realizeze o conexiune TCP de Ia B Ia A
- A poate trimite o cerere lui B, iar B ii ofera raspunsul
- Daca A si B utilizeaza NAT?
- Flash crowd: o crestere neasteptata de cereri pentru o anumita resursa
— Pentru continutul dorit nu exista suficiente copii incarcate
— Cat timp ia unui utilizator sa localizeze fisierul?
— Cate mesaje va primi un nod datorita cautarilor realizate de alte noduri?
— Se poate folosi un protocol de cautare generic, bazat pe TTL
46
—

***************Ending Page***************


***************Beginning Page***************
***************page number:47**************
Arh itectu ri structu rate
' Reprezinta solutia academica pentru P2P
' Scop:
— Cautare cu succes
— Timp de cautare in limite cunoscute
— Scalabilitate demonstrata
' Abordare: DHT (Distributed Hash Table)
— Se stocheaza perechi (key, value)
' Key — nume de fisiere
' Value — continut de fisier sau pointer la 0 locatie
— Fiecare peer stocheaza o multime de (key, value)
— Operatii: gaseste nodu/ responsabi/ cu un Key
' Mapare key — node
' Rutarea eficienta a cererilor de insert/lockup/de/ete asociate cu acest
nod
— Se permite o mare fluctuatie a nodurilor 47
—

***************Ending Page***************

***************Beginning Page***************
***************page number:48**************
Arhitecturi structu rate

' Aspect de interes: localizarea continutului

' ldee: Responsabilitatea este distribuita mai multor noduri ale
retelei de acoperire, intr-un mod adaptiv

' Fiecarei resurse i se asociaza o cheie unica via 0 functie hash:
h(”Curs Retele”)->7929; lntervalul de valori ale functiei hash se
distribuie in reteaua P2P

' Fiecare nod trebuie sa "cunoasca" locatia macar a unei singure
copii a fiecarei resurse pentru care functia sa hash ia valori in
intervalul Iui

' Nodurile pot mentine in cache-ul propriu o copie a fiecarei
resurse pe care trebuie sa 0 "cunoasca"

48
—

***************Ending Page***************


***************Beginning Page***************
***************page number:49**************
Arhitecturi structu rate
' Aspect de interes: dirijarea
' Pentru fiecare resursa, un nod ce "cunoaste" resursa trebuie sa
fie accesat pe calea cea mai "scurta"
' Abordarile de sisteme P2P structurate difera prin strategia de
dirijare
' Nodurile din sistem formeaza o structura de date distribuita care
poate fi: inel, arbore, hypercub, skip list etc.
' Se ofera un API pentru tabelele distribuite de hash-uri (DHT —
Distributed Hash Table)
— Dand 0 cheie k, API-ul va returna adresa IP a nodului
responsabil pentru valoarea cheii k
49
—

***************Ending Page***************

***************Beginning Page***************
***************page number:50**************
Arhitecturi structu rate
' lmplementari
— Chord [IVllT]
— Pastry [Microsoft Research UK, Rice University]
— Tapestry [UC Berkeley]
— Content Addressable Network (CAN) [UC Berkeley]
— SkipNet [Microsoft Research US, Univ. of
Washington]
— Kademlia [New York University]
— Viceroy [lsrael, UC Berkeley]
— P-Grid [EPFL Switzerland]
—

***************Ending Page***************


***************Beginning Page***************
***************page number:51**************
Arhitecturi structu rate
' Slab structurate
— Nodurile pot estima ce noduri stocheaza resursele cautate
' Se evita broadcasturile oarbe
' Se foloseste 0 propagare in Iant (chain mode
propagation): fiecare nod ia decizii locale privitoare Ia
care va fi nodul urmator interogat
— Cautarea unui fisier presupune utilizarea unei chei si a unui
mecanism de timeout
— Exemplu: Freenet
[https://en.wikipedia.0rg/wiki/Freenet] 51
—

***************Ending Page***************

***************Beginning Page***************
***************page number:52**************
lnstru me nte
' P2P — framework pentru Android
https://code.goog|e.com/p/p2p-communication-
framework-for-android/
' p2psim — simulator pentru protocoalele p2p
http://pdos.csai|.mit.edu/p2psim/
' Instrumente si protocoale pentru P2P:
http://en.Wikibooks.org/Wiki/The_Wor|d_of_Peer-to-
Peer_%28P2P%29/Networks_and_Protoco|s/Other_Software_|mpl
ementations
' ” IPFS is the Distributed Web" - https://ipfs.io/
—

***************Ending Page***************


***************Beginning Page***************
***************page number:53**************
ll I I I I, I I I
' IPFS IS the Distributed Web - httgs.[[lgfs.io[
—A peer-to-peer hypermedia protocol to make the web faster, safer, and
more open
T
— ‘II
I - —1—\
"' llllllllllll
X J x J
H'ITP is ineﬂicient and expansive Humanitfs Hit"! i5 deleted daily
HiTF' downloads a File From a single computer at a timeI instead of The average lifespan oFa web page i5 ‘IUD davs. Remember
getting pieces From multiple computers simultaneouslv. With video GeoEities? The web doesn't anvmore. Itle not good enough For the
delivery, a P2P approach could save 65$“; in bandwidth costs. primarv medium ofour era to he so fragile.
IPFS makes it possible te distribute high volumes et data with high IPF5 Provide hiﬁterie versieniﬂti [like eiﬂ and make!- it simple to
efFlciencv. And zero duplication means savings in storage. set UP resilient networks For mirroring of data.
54

***************Ending Page***************

***************Beginning Page***************
***************page number:54**************
ll I I I I, I I I
' IPFS IS the Dlstrlbuted Web - httgs.[[lgfs.|o[
—A peer-to-peer hypermedia protocol to make the web faster, safer, and
more open
I I
" i o I
' l‘ a i s ' i
i a. . ‘r I. . _ i I
g i
. I ' I
o I I '
‘I’. I I I. I II
x J
X J
. _ _ _ _ Our apps are addicted to the backbone
The web s oentraliIatlon lll'nlts opportunlty
_ _ _ Developing world. Offline. Natural disasters. lnterm itte nt
The Internet has been one of‘ the great equallzers In human hlStCer connections. All trivial compared to interplanetary networking.
ancl a real accelerator of innovation. But the increasing The networks we're using are so EUth Century We can clo better
consolidation of control is a threat to that. I l
_ _ _ _ f IPFS powers the creation of 1t3li'l'ersel'|_.|r resilient networks which
IPFS remalns true t0 the or|g|na| v|s|on BF the open and Hat web, enable persistent availabilityr with or without Internet backbone
but delivers the technology.r which makes that vision a reality. connectivity
55

***************Ending Page***************


***************Beginning Page***************
***************page number:55**************
ll I I I I, . I I
' IPFS IS the Dlstrlbuted Web - https.[[|pfs.|0[
Let's take a look at what happens when you add ﬁles to IPFS:
5 I“ if’? ,5): '. EﬂCh ﬁle Emd El" 0f thE M0155 Within it are given a unique . . Each network node stores onlyI content it is interested in,
:_' ‘ .-:\ J H j I ﬁngerprint called a cryptographic hash. . . and some indexing information that helps ﬁgure out who is
_— -.\_ @ W . storing what.
_ O . .
IPFS removes duplicatlons across the network and tracks O ‘ ' When looking up ﬁles, you're asking the network to ﬁnd
J. version history for every ﬁle. . q. nodes storing the content behind a unique hash.
. .
I
Ever).r ﬁle can be found by human-readable names using a
"m ,.. decentralized naming system called IPNS.
'https://g|thub.com/|pfs/papers/raw/master/lpfs-caprfs/lpfs-
p2p-flle-system.pdf
56

***************Ending Page***************

***************Beginning Page***************
***************page number:56**************
Stat i StiCi Gluhal Cunsumer lntemet Trafﬁc 2005-2011
CDHSLII'HEI IHIEFI'IE'I Trafﬁc: 2005-201 1
—mmm-mmm
—----M
—------m
—-----:|m
m
—------m
7
—

***************Ending Page***************


***************Beginning Page***************
***************page number:57**************
S a i s i c i
t t t

Table 3. Global Censumer lntemet Trafﬁe, 2311—2313

2511 21112 21113 21114 21115 2515 CAGE

21111-21115

5y 11mm [PB per 1.1511151
Fixed 25,121 29,595 35,949 45,312 51,991 14,241 9599
Mebiie 432 3TH 1,1"1?r 3,1 13 5,213 3,313 33%
By Suhseg'nent [PB per Month]
File sharing 5,513 1,455 9,155 11,559 14,155 15,592 25%
Internet 1ride5 13,423 13,333 23,334 23,?22 34,?55 45,233 34%
Web, email, and data 3,553 5,422 1,214 9,153 13,119 11,553 55%
|[Iinline gaming Tr‘? 115 1T3 251 434 533 52%
‘ii'eiee ever IP (leP) 141 154 159 153 159 114 3%
B31‘ Geﬂﬂriph'; [PB PET 51511111]
Nurlh America 5,594 5,541 9,522 15,294 12,499 15,545 24%
We51erri Europe 5,132 1433 3,31 1 11 ,822 14,?35 13,233 23%
Asia Paciﬁc 5,225 11,195 15,255 25,254 25,515 34,553 53%
Laiin America T33 1,135 1,333 2,335 4,352 3,535 53%
Central and Eastern Europe 511 1,211 1,555 2,395 3,592 4,599 4299
Middle E551 and Africa 133 323 542 335 1,543 2,?33 T3311
Tonal [PB per 51511111}
Censumer Internet 1111311: 23,523 23,3?‘4 3?,353 43,433 53,234 32,533 32%
Source: Cisco ‘UNI, 2312 5 8

***************Ending Page***************

***************Beginning Page***************
***************page number:58**************
. . . Table 15. Global onnsumer intemet trafﬁo, 201 7-2022
Sta t I St I c I Consumer Internet Traﬂio,201 7-2022 201 7 201 B 2019 2020 2021 2022 GAGR
2017-2022
By Network [EB per Month}I
Fixed 67 86 1 1 1 141 179 225 27%
Mobile 1D 1E 25 3B 50 EB 47%
By Subsegment (EB per Month)
lntemet 1irideo 56 77 105 14D 184 240 34%
Web, email, and data 12 15 19 23 27 31 22%
|Unline gaming 1 3 4 7 11 15 59%
File sharing B 7 7 7 7 7 -3%
By Geography‘ [EB per Month]
Asia Paciﬁc 27 38 54 74 99 130 37%
North America 25 32 40 50 61 74 25%
Westem Europe 12 15 19 24 30 37 25%
|Central and Eastern Europe 5 7 9 1 1 15 19 29%
Middle East and Africa 3 4 E 9 13 1B 46%
Latin America 5 IE B 9 11 14 21%
Total [EB per Month)
Consumer lntemet traﬂ'io 77 192 136 177 229 293 31%
Source: Cisoo UNI, 291B
59
—

***************Ending Page***************


***************Beginning Page***************
***************page number:59**************
St i i i
at st c
Global Consumer Peer-tu-Peer Traﬁic 2005—2[]1 1
Consumer Peer-to-Peer Trafﬁc 2005-2011
—m--mmmm
—------m
—------m
m-
60

***************Ending Page***************

***************Beginning Page***************
***************page number:60**************
S tat i s t i c i
Table 1 0. Global Consumer File-Sharing Traffic, 2011-2016
201 1 201 2 201 3 2014 201 5 2016 CAGR
2011-2016
By Network (PB per Month)
Fixed 5,967 7,337 9,093 11,524 14,658 18,698 26%
Mobile 46 66 84 1 06 142 194 33%
By Subsegment (PB per Month)
P2P ﬁle transfer 4,656 5,401 6,234 7,314 8,627 10,215 17%
Other ﬁle transfer 1,357 2,002 2,942 4,315 6,174 8,677 45%
By Geography (PB per Month)
North America 785 935 1,119 1,349 1 ,636 2,006 21%
Western Europe 1,609 1,845 2,154 2,552 2,918 3,181 15%
Asia Paciﬁc 2,997 3,789 4,794 6,201 8,100 10,660 29%
Latin America 210 266 347 485 786 1,276 43%
Central and Eastem Europe 363 504 690 937 1 ,266 1 ,699 36%
Middle East and Africa 49 64 73 105 96 71 8%
Total (PB per Month}
Consumer ﬁle sharing 6,013 7,403 9,177 11,629 14,801 18,892 26%
Source: Cisoo VNI, 2012
6 1
—

***************Ending Page***************


***************Beginning Page***************
***************page number:61**************
table 10. Global Consumer File-Sharing Tl'aﬂie, 2015-2020
ﬂﬂnsun'ler File Sharing, 2015-2020
2015 2015 201?r 2015 2015 2020 CAGE
2015-2020
File Sharing
BF Network [PB per Mnnth] This category includes traffic
from P2P applications such as
Fit-{e0 5,942 5,909 5,329 5,?13 5,313 5,939 0% BitTorrent and eDonkey, as
well as web-based file sharing.
Mobile 22 23 22 22 22 33 232 22522551885931‘; ﬁg‘ °f
exchange of video files, so a
Bf; 5|.lhsegl'ner'lt [PB per Mﬂnth] total view of the impact of video
on the network should count
P22 ﬁle transfer 4,?23 4,332 4,224 3,342 3,433 3,333 334 Eiirgffi°cgjﬁgénijiﬁg'°n t°
Internet video-to-PC and
Other ﬁle transfer 1 ,133 1 ,333 1 ,3341 1 ,902 2,20? 2,3410 15% Internet video-to-TV
categories. Table 10 shows the
forecast for consumer P2P
E}; Geog ra phtf [PB per Menth] traffic from 2015 to 2020.
Note that the P2P category is
Asia Paciﬁc 2,335 2,239 2,133 2,093 2,0041 2,093 -2‘i-'E| limited t0 traditional file
exchange and does not include
. commercial video-streaming
Nertn Amenca 1 ,015 1 ,13]Ir 1 ,230 1,3?1 1,4?3 1,5?3 9% applications that are delivered
through P2P, such
Western Eurcrpe 1 ,1241 1,105 1,093 1,0?5 1,053 1,131 0% as PPStream or PPLive.
Central and Eastern Eurepe 329 T53 E591 E43 621 BEE 41%
Latin America 55:5r 5T3 553 51 41 41541 433 4%
Middle East and Africa 10? 91 33 39 32 39 -1 3%
' http://www.cisco.com/c/en/us/solutions/collateral/service-provider/visuaI-networking-index-vni/complete-white-paper-cll-
1htal [PB per Month] 481360_htm| 62

***************Ending Page***************


***************Beginning Page***************
***************page number:62**************
Rezumat
' Paradigma peer-to-peer(P2P)
— Preliminarii
— Definitii
— Ca ra cteriza re
—Tipuri de aplicatii
— Infrastructuri
— lnstrumente
—

***************Ending Page***************


***************Beginning Page***************
***************page number:63**************
Blbllografle

' P2P Networking and Applications, John F. Buford, Heather Yu, Eng Keong Lua,
2009, Elsevier

' httg:[[www.cisco.com[en[USZdocsanbleZserv exctherv controleroadband
aQQZQrotocol ref guideZOl 929.9df

' httg:[[gdos.csail.mit.edu[|92|c_>sim[

' Statistici: httgzﬂwww.hbtf.org[fi|es[cisco leorecast.Qdf

' Statistici:httgszﬂeceuroga.euZdigitaI-singIe-marketZenZnewslcisco-visual-
networking-index-forecast-and-methodology-ZOl1%E2%80%932016

' Statistici:httgs:[wawciscocomlclenzusZsolutionsZcol|atera|Zservice-
groviderZVisuaI-networking-index-vnithite-gager-c11-741490.htm|

' httgﬂen.wikibooks.org[wiki[The World of Peer-to-
Peer %28P2P%29[Networks and ProtocolsZOther Software lmglementatio
g

' httgs:[[wwwkirsle.net!blog[entrylsker-switched-to-the-msn-messenger-
grotocol

—

***************Ending Page***************


***************Beginning Page***************
***************page number:64**************
I!’
‘
65

***************Ending Page***************


