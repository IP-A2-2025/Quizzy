***************Beginning Page***************
***************page number:1**************
IV. Sistemul de operare

***************Ending Page***************

***************Beginning Page***************
***************page number:2**************
Arhilectlln calcullloarelar 5i 5mm do 0pm“ - pan" a ll-a
Rolul sisternului de operare (1)
- program cu r01 dc gestiune a sistemului dc
calcul
' face legétura intre hardware 5i aplicatii
~ pune 1a dispozitia aplicatiilor diferite
serv1cu
' supravegheazﬁ buna functionare a
aplicaﬁilor
i poate interveni in cazurile de eroare
88

***************Ending Page***************

***************Beginning Page***************
***************page number:3**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Rolul sisternului de operare (2)
- pentru a-$i indeplini sarcinile, are nsvoie dc
suport hardware
— cel mai important — sistemul dc intreruperi
' components principals
i nucleu (kernel)
i drivers
—sa

***************Ending Page***************

***************Beginning Page***************
***************page number:4**************
IV.1. Nucleul sistemului
de operare

***************Ending Page***************

***************Beginning Page***************
***************page number:5**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Nucleul sisternului de operare
- in mare masura independent de structura
hardware pe care ruleazé
' "creierul" sisternului de operare
' gestiunea resurselor calculatorului -
hardware $i software
i funqionarc corccta
i alocare echitabila intre aplicagii
—~"

***************Ending Page***************

***************Beginning Page***************
***************page number:6**************
Arhilectun calcullloarelor 5i sineme a: 0pm“ - pan“ a ll-a
Moduri de lucru ale procesorului

— utilizator (user mode)

i restricyionat

— accesul 1a memorie — numai anumite zone

i accesul 1a periferice - interzis
' nucleu (kernel mode)

i firé restrictii
—qz

***************Ending Page***************


***************Beginning Page***************
***************page number:7**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Modul de rulare a1 programelor

- sistemul dc operate - in mod nucleu

i poate efectua orice operaﬂe
' aplicaﬁile - in mod utilizator

i nu pot realiza anumite acliuni

i apeleazé 1a nucleu
—~13

***************Ending Page***************

***************Beginning Page***************
***************page number:8**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Trecerea intre cele doué moduri

- prin sistcmul dc intrerupcri
' utilizator —> nucleu

i apel intrerupere software

i generare exceplie (eroare)
- nucleu % utilizator

i revenire din rutina de tratare a intreruperii
—~u

***************Ending Page***************

***************Beginning Page***************
***************page number:9**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Consecinye
- codul unei aplicaﬁi nu poate rula in modul
nucleu
' avantaj: erorile unei aplicagii nu afecteazi
alte programe
i aplicaiii
i sistemul de operare
' dezavantaj: pierdere de performangé
—~15

***************Ending Page***************

***************Beginning Page***************
***************page number:10**************
Arhilectun calcullloarelor 5i sineme a: 0pm“ - pan“ a ll-a
Structura nucleulul

' nu est6 un program unitar
- colectie de rutine care coopereazé
~ functii principals

i gestiunea proceselor

i gestiunea memoriei

i gestiunea sistemelor de ﬁsiere

i comunicarea intre procese
—%

***************Ending Page***************

***************Beginning Page***************
***************page number:11**************
IV.2. Apeluri sistem

***************Ending Page***************

***************Beginning Page***************
***************page number:12**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Apeluri sistem (system calls)
- cereri adresate nucleului de cétre aplicagii
~ actiuni pe care aplicatiile nu 1e pot executa
singure
i numai in modul nucleu a1 procesorului
i motiv - siguranm sistcmului
- realizate prin intreruperi software
' similar apelurilor de functii
—~m

***************Ending Page***************


***************Beginning Page***************
***************page number:13**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Etapele unui apel sistem (1)
l. programul depune parametrii apelului
sistern intr-o anumité zoné de memorie
2. se genereazé 0 intrerupere software
- procesorul trece in modul nucleu
3‘ se idsntiﬁcé serviciul cerut $i se apeleazé
rutina corespunzétoare
—~19

***************Ending Page***************

***************Beginning Page***************
***************page number:14**************
Arhilectlln calcullloarelar 5i 5mm do 0pm“ - pan" a ll-a
Etapele unui apel sistem (2)

44 rutina preia parametrii apelului 5i ii veriﬁcé
i dacé sum erori - apelul e$ueazi

5‘ dacé nu sunt erori — realizeazé acﬁunea
cemté

6. terminarea rutinei - rezultatele obtinute sunt
depuse intr-o zoné de memorie accesibilé
aplicaﬁei care a fécut apelul

—|nu

***************Ending Page***************

***************Beginning Page***************
***************page number:15**************
Arhilectlln calcullloarelar 5i 5mm do 0pm“ - pan" a ll-a
Etapele unui apel sistem (3)
7‘ procesorul revine in mod utilizator
8. se reia execugia programului din punctul in
care a fost intrerupt
- se utilizeazé informaliile memorate in acest scop
1a aparigia intreruperii
9. programul poate prelua rezultatele apelului
din zona in care au fost depuse
—m

***************Ending Page***************

***************Beginning Page***************
***************page number:16**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Apeluri sistem - concluzii
' comunicare intre aplicatie $i nucleu
i depunere parametri
— preluare rezultate
' actiunile critice sunt realizate intr-un mod
Slgur
' mari consumatoare de timp
' apeluri cit mai rare - lucru cu buffere
—m

***************Ending Page***************

***************Beginning Page***************
***************page number:17**************
Arhilectlln ealcullloarelnr 5i sineme do upmn - pan" a ll-a
Cum folosirn bufferele

Exemplu - functia printf
- formateazé textul, apoi i1 trimite spre ecran
~ nu are acces direct la hardware

i se foloseste de un apel sistem

i write (in Linux)
' de fapt, prinrfdepune textul formatat intr-o

zoné proprie de memorie (buffer)

— doar cind bufferul e plin se face un apel sistem

Ill]

***************Ending Page***************

***************Beginning Page***************
***************page number:18**************
IV.3. Drivere

***************Ending Page***************


***************Beginning Page***************
***************page number:19**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Ce sunt drlverele?

~ module de program care gestioneazé

comunicarea cu perifericele

i specializate - cite un driver pentru ﬁecare

periferic

' pane a sistemului de operare

i acces direct la hardware

i se executé in modul nucleu al procesorului

HIS

***************Ending Page***************

***************Beginning Page***************
***************page number:20**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Utlllzare
- nu fac parte din nucleu
i dar sc aﬂz'l sub comanda nuclcului
' folosite de rutinele de tratare ale
intreruperilor hardware
- inlocuire periferic —> inlocuire driver
i organizare modulari
i nu trebuie reinstalat tot sistemul de operare
—m

***************Ending Page***************

***************Beginning Page***************
***************page number:21**************
IV.4. Gestiunea
proceselor

***************Ending Page***************

***************Beginning Page***************
***************page number:22**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Procese (1 )
' se pot lansa in executie mai multe programe
in accla$i timp (multitasking)
' paralelismul nu este real
i doar dacé sistemul are mai multe procesoare
i altfcl - concurcmé
' un program se poate impérﬁ in mai multe
secvente dc instructiuni - procese
i se pot executa paralel sau concurent
H18

***************Ending Page***************

***************Beginning Page***************
***************page number:23**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Procese (2)
' sistemul de operare lucreazé cu procese
i nu cu programs
' 1a lansare, un program consté dintr-un
sin gur proces
i poatc crca altc proccsc
i care pot crca altc proccsc $.a.m.d.
' un procesor poate executa la un moment dat
instructiunile unui singur proces
H19

***************Ending Page***************

***************Beginning Page***************
***************page number:24**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Procese (3)
' ﬁecare proces are propriile zone de
memorie (cod, date, stivé, ...)
i separate de ale celurlalte process
' la crearea unui nou proces, i se alocé spagiu
de memorie
— la terminarea unui proces, memoria ocupatﬁ
este eliberaté
— chiar daci programul in ansamblul siu continué
I"!

***************Ending Page***************


***************Beginning Page***************
***************page number:25**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Stanle unul proces (1)

' in execugie (running)

i instructiunile sale sunt executate de procesor
' gata de executie (ready)

— a$teapté sé ﬁe executat de procesor
- in a$teptare (wailing)

i a$teapti terminarea unui apel sistem

— nu concureazé momentan pentru planiﬁcarea la

procesor

—m

***************Ending Page***************

***************Beginning Page***************
***************page number:26**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Stanle unul proces (2)
planiﬁcare
ready running
mm ' . terminale
deplaniﬁcare
mnninare ape!
ml sistem mm“

***************Ending Page***************

***************Beginning Page***************
***************page number:27**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Stanle unul proces (3)
- procesul aﬂat in executie pérése$te aceasté
stare
i la terminarea sa
- normalé sau in urma unei erori

i la efectuarea unui apel sistem (—> waiting)

i 08nd instructiunile sale an fest executate un
timp suﬁcient de lung 5i este rindul altui proces
s5 ﬁe executat (deplaniﬁcare)

—1\3

***************Ending Page***************

***************Beginning Page***************
***************page number:28**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Forme de multitasking
' non-preemptiv
i nu permits deplaniﬁcarea unui proces
i un proccs poatc ﬁ scos din cxccugic doar in
celelalte situagii
i dezavamaj - erorile dc programare put bloca
procesele (ex. buclé inﬁnité)
' preemptiv
—m

***************Ending Page***************

***************Beginning Page***************
***************page number:29**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Deplanlﬁcarea
- cum $tie sistemul de operare cit timp s-a
executat un proces?
' este necesaré 0 formé de mésurare a
timpului
- ceasul dc timp real
i dispozitiv periferic
— genereazé cereﬂ d6 intrerupere la intervale
regulate de timp
—"5

***************Ending Page***************

