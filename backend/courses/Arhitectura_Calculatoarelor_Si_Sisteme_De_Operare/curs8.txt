***************Beginning Page***************
***************page number:1**************
Arhilectun calcullloarelor 5i sineme a: 0pm“ - pan“ a ll-a
Jumétatea a 2-a a semestrului
° CUTS
i structura hardware a unui sistem de calcul
i limbajul dc asamblare
- laborator
i limbajul de asamblare Intel
— ﬁnalizare - test practic
- condiiie susLinere test - cel mull 2 absenye la
laborator
\

***************Ending Page***************

***************Beginning Page***************
***************page number:2**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Cuprins - structura hardware
Iv Unitatea centralé de procesare (CPU)
ll. Dispozitivele periferice
III. Sistemul de intreruperi
IV. Sistemul de operare

***************Ending Page***************

***************Beginning Page***************
***************page number:3**************
I. Unitatea centralﬁ
de procesare (CPU)

***************Ending Page***************

***************Beginning Page***************
***************page number:4**************
Armmmn calculllolralor 5| sixteme a: open" - pine: a "-l
I—I— ———lhgmqhqdnxa
—=— ——- Mwmnaln .Lm
ALI‘ I?-
-
l —— mum
—
I—. — Ream“
Numbnm." .
v ' r ‘mum
( I‘ ""IMI —lhﬂanhmul\nl
1

***************Ending Page***************

***************Beginning Page***************
***************page number:5**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Structura CPU (2)

- unitatea aritmeticé 3i logicé (ALU)

i efectueazé calculele propriwzise
' regi$trii de uZ general
' unitatea de control

i comandé celelalte componenle

i stabilc§tc ordonarca tcmporalé a opcragiilor
' magistrala interné.
—5

***************Ending Page***************

***************Beginning Page***************
***************page number:6**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Structura CPU (3)

~ contorul program (PC)

i reﬁne adresa urmitoarei instructiuni de executat

i aetualizat de procesor

i uzual nu cstc acccsibil prin program
' registrul de instructiuni (IR)

i reﬁne codul ultimei instrucyiuni aduse din

memorie

—6

***************Ending Page***************


***************Beginning Page***************
***************page number:7**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Structura CPU (4)
- regi§trii de interfaté
i asiguré comunicarea cu magistralele sistemului
— de adrese: MAR (Memory Address Register)
i dc date: MDR (Memory Data Register)
- regi$trii temporari
i intermediari intre diverse componente
— exemple: registrii operanzi ALU, registrul
rezultat ALU
7

***************Ending Page***************

***************Beginning Page***************
***************page number:8**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Cum putern cre$te performanta?

- eliminarea factorilor care fréneazé CPU

i exemplu - folosirea memoriei cache
' structuri cét mai simple

i nu mai este posibil la procesoarele actuale
' cre§terea frecventei ceasului

i limitalé dc tchnologic
' executia instructiunilor in paralel
—8

***************Ending Page***************

***************Beginning Page***************
***************page number:9**************
I.1. Pipeline

***************Ending Page***************

***************Beginning Page***************
***************page number:10**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Ideea de pornlre
- execupia unei instrucﬁuni - numér mare dc
mi
' in pa$i diferiti se folosesc resurse diferite
ale CPU
- execugia unei instrucﬁuni poate incepe
inainte de terminarea celei anterioare
' instrucgiunile se executé (partial) in paralel
—\u

***************Ending Page***************

***************Beginning Page***************
***************page number:11**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
O primé implementare
Proccsorul Intel 8086
' format din doué unitéti
i unitatea de interfayé cu magistrala (BIU)
' comunicarea cu exteriorul
i unitatea de execugie (EU)
' executia propriu-zisé a operatiilor
- BIU 5i EU pot lucra in paralel

***************Ending Page***************

***************Beginning Page***************
***************page number:12**************
Ammun- calculzloarelar 5i sisteme do 0pm“ - pan" a ll-a
Pr1n01p1ulbenzn de asamblare
' execuyia unei instrucﬁuni - n pa§i
~ la un moment dat — n instmctgiuni in cxccutic
' ﬁecare instrucgiune - in alt pas
pas 1 pas 2 pas n-l pasn
mstruEDune 1
lnStmtﬁunE 2
mstruchune n71
,mtmum
—.1

***************Ending Page***************


***************Beginning Page***************
***************page number:13**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Plpellne
' secventa pa$i10r (stagii) prin care trece
executia unei instructiuni
' trecerea intre doué stagii - 1a ﬁecare ciclu de
ccas
' cét dureazé péni la terminarea unei
instructiuni?
i prima instructiune - n cicluri de ceas
— urmétoarele instrucliuni - céte 1 ciclu de ceas !
—._1

***************Ending Page***************

***************Beginning Page***************
***************page number:14**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Performanya unui pipeline
- rezultatul obginut la ﬁecare stagiu trebuie
retlnut
' regi$tri de separapie - plasati intre stagii
- frecventa ceasului - datﬁ de stagiul cel mai
lung
' pa$i mai simpli
— numér de stagii mai mare
— frecventi Inai mare a ceasului
u

***************Ending Page***************

***************Beginning Page***************
***************page number:15**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Executia unei instructiuni

l‘ depunerea valorii PC (adresa instructiunii)

in MAR

2. citirea din memorie

34 preluarea codului instructiunii in MDR

4‘ depunerea codului instrucgiunii in IR

5. actualizarea valorii PC

***************Ending Page***************

***************Beginning Page***************
***************page number:16**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Executia unei instructiuni
64 decodiﬁcarea instructiunii de cétre unitatea
de control
7. citire operand din memorie
— depunere adresé operand in MAR
i comandé citire
i preluare operand in MDR
7'. selectie registru care conﬁne operandul
—\0

***************Ending Page***************

***************Beginning Page***************
***************page number:17**************
Arhilectlln calcullloarelar 5i 5mm do 0pm“ - pan" a ll-a
Executia unei instructiuni
8. depunere operand in registru operand ALU
9. repetare pa§i 7-8 pentm a1 doilea operand
10. transmiterea citre ALU a codului operatiei
dorite
11. preluare rezultat in registrul rezultat ALU
12. testare conditie salt
—"

***************Ending Page***************

***************Beginning Page***************
***************page number:18**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Executia unei instructiuni
13. salt (dacé este cazul)
l4. scriere rezultat in memorie
i depunere rezultat in MDR
i depunere adresé in MAR
i comandé scriere
l4’. scriere rezultat in registrul destinatie
—\8

***************Ending Page***************


***************Beginning Page***************
***************page number:19**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Probleme
~ nu toate instructiunile se pot cxecuta in
paralel
' dependemi - 0 instructiune trebuie sé
a$tepte terminarea alteia
' conﬂict in accesul la aceea$i resursé
—\9

***************Ending Page***************

***************Beginning Page***************
***************page number:20**************
Arhilectllra calcullloarelor 5i sixteme a: 0pm“ - pan“ a ll-a
Tipuri de dependente
' structurale
' de date
' dc control
—zn

***************Ending Page***************

***************Beginning Page***************
***************page number:21**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Dependenye structurale

- instructiuni aﬂate in stagii diferite au nevoie
de aceea$i componenté

' 0 singuré instmcgiune poate folosi
componenta la un moment dat

- celelate instructiuni care au nevoie de ea
sunt blocate

—1.

***************Ending Page***************

***************Beginning Page***************
***************page number:22**************
Arhilectun calcullloarelor 5i sineme a: 0pm“ - pan“ a ll-a
Dependente structurale - exemple
' ALU

— instrucﬁuni aritmetice

— calculul adreselor operanzilor

— actualizarea valorii PC
' accesele la memorie

i cilire cod instrucgiune

— citire operand

— scﬂere rezultat
—11

***************Ending Page***************

***************Beginning Page***************
***************page number:23**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Dependente de date
~ 0 instructiune calculcazé un rezultat, alta Tl
folose$te
' a doua instmctiune are nevoie de rezultat
inaintc ca prima sé-l obtiné
' a doua instructiune este blocaté
—z_1

***************Ending Page***************

***************Beginning Page***************
***************page number:24**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Dependente dc date - exemplu
mov eax,7
sub eax , 3
' prima instructiune: scrierea in eax - in
ultimul stagiu
' a doua instrucyiune: utilizarea eax - in
primele stagii (decodiﬁcare)
i asteapté pﬁni cénd prima instructiune depune
rezultatul in eax
—u

***************Ending Page***************


***************Beginning Page***************
***************page number:25**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Dependente de control (1)

Actualizarea valorii PC (uzual)
' adunarea la vechea valoare a dimensiunii

codului instrucﬁunii anterioare
' incircarea unei valori noi - instrucﬁuni de

salt

15

***************Ending Page***************

***************Beginning Page***************
***************page number:26**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Dependente de control (2)

Tipuri de instructiuni de salt
' necondigionat

— se face saltul intotdeauna
- conditionat

i se face saltul numai dacé este indeplinitﬁ o

anumité condigie

i altfel se continue"! cu instructiunea urmz'ltoare

—zo

***************Ending Page***************

***************Beginning Page***************
***************page number:27**************
Arhilectlln calcullloarelor 5i sineme a: upmn - pm" a ll-a
Dependente de control (3)

Adrcsa dc salt — moduri de cxprimare
' valoare constanti

— absoluté

i deplasament fmé de adresa instrucgiunii curente
- valoarea dintr-un rcgistru
- valoarea dintr-o locatie de memorie
—17

***************Ending Page***************

***************Beginning Page***************
***************page number:28**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Dependente de control (4)

Probleme
' calculul adresci dc salt - in ultimcle stagii

de executie
' instrucgiunile urmétoare (multe!) au inceput

deja executia
- dacé se face salt - efectele lor trebuie

anulate
—18

***************Ending Page***************

***************Beginning Page***************
***************page number:29**************
Arhilectlln calcullloarelnr 5i sineme do upmn - pan" a ll-a
Dependente de control (5)
Probleme
~ "golirea" pipeline-ului % pierdere do
perfonnangé
i operaﬁi complicate
i dureazé mult péné la terminarea primei
instructiuni a scade rata de execuyie
~ o instructiune din 7 (in medic) este de salt !
—19

***************Ending Page***************

