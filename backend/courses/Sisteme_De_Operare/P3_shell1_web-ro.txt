***************Beginning Page***************
***************page number:1**************
GHID DE UTILIZARE LINUX (IV)
Lucrul la linia de comandé in UNIX, partea a Ill-a:
lnterpretoare de comenzi UNIX, partea l — prezentare generalé
Cristian Vidra$cu
vidraschinfo .uaic . r0
Februarie, 2021
1/26

***************Ending Page***************

***************Beginning Page***************
***************page number:2**************
Su mar
\mmducere |ntr0ducere
Gomerm Slm IE CumenZI simple
ML Comenzi simple — deﬂnme
Sgeclhcalea numemvde were Modul de execulie a cornenleor swwe
Fwerele de curmgurarea Execuna comermlor simple in background
mlergveiormm (19 comenzx RedWeCtéri l/O
Meme mbhngraﬂce 4
ComenZI compuse
Comenzi compuse i dehniue
Lamuri de comenm simple
Execuna seovennaki a mai muhor comenm
Execuna para\e\é. neTnléntuité a men muhor cornenm
Execuna condihonalé a man muhor comenzx
Smlaxa extinsé: hste de ccmenzi
Speciiicarea numelor de fisiere
Spemficarea hsierelur individua\e
Sabloane pentru specificarea mulliplé de hsiere
Fisierele de configurare a interprelorului de comenzi
lniliahzarea sesmmlor imerachve ale she/[rului
lsioricul comenzilor executate
Referinte bibliografice
Memu de navigare Lucrul la linia de comandé Tn um. paltea a lH-a: lmerprelcare d9 ccmenzi UNIX. partea | - prezentare generalé 2 / 26

***************Ending Page***************

***************Beginning Page***************
***************page number:3**************
lntroducere

mm“ lntr-un sistem UNIX, interpretorul de comenzi este un program ce indeplineste

MN‘ aceleasi sarcini ca si in MS-DOS sau Windows, oferind doué functionalitéti de bazé:

comenzi CQmQuse

SWIM"umeimdeim I preia comenzile introduse de utilizator, le interpreteazé 3i le executé, realizénd

if;l’?li§§ii§li“$§; astfel interfata dintre utilizator si sistemul de operare;

My‘ I oferé facilitéti de programare intr-un limbaj de comandé specific, cu ajutorul céruia

se pot scrie script-uri, Le. fieiere text ce contin secvente de comenzi UNIX.
Observatie: in sistemele de operare din familia UNIX avem Ia dispozitie mai multe interpretoare de
comenzi (denumite uneori $i she/l-uri, de Ia termenul folosit in limba englezé), precum ar fi: sh (Bourne
SHeII), bash (Bourne Again SHe/I), csh (C SHe/I), ksh (Kom SHe/l), ash, zsh, $.a.
Principala caracteristicé prin care se diferentiazé interpretoarele intre ele este sintaxa limbajului de
comandét specific fiecéruia dintre ele. in plus, shell-urile disponibile in sistemele UNIX sunt mai
puternice decét interpretoarele de comenzi din MSeDOS $i Windows (command . com, respectiv
cmd. exe), oferind limbaje de comandé aseménétoare cu limbajele de programare de nivel inalt d.p.d.v.
al sintaxei: au structuri de control alternative si repetitive (de genul if, case, for, while, ele.), ceea
ce permite scrierea de programe complexe ca simple fisiere cu secvente de comenzi (i.e., script-uri).
Vorn prezenta in continuare facilitétile comune tuturor shell-urilor UNIX, prin care se realizeazé prima
sarciné pomenité mai sus, cu referiri explicite Ia sintaxa utilizaté de interpretorul bash.
Meniu de navigare Lucrul la linia de comandé in UNIX, pavtea a Ill-a lnterpvetuare de comenzi UNIX, pavtea | - prezentare genevalé a 126

***************Ending Page***************

***************Beginning Page***************
***************page number:4**************
Agenda
\mruducere |ntr0ducere
E . .
Comerm 5m IE CumenZI simple
Comerm slmple 7 delmme v _
Modul de exenuhe a ComenZI slmple — defmme
°“'"e"1“°'5'mp'e Modul de execulie a cornenleor sxmwe
Execuha comervzllar svnme m _ _
background Execuna comermlor slmple |n background
HedlreﬂérH/O Redxrectéri l/O
4P‘ -
Comenzxcom use ComenZI compuse
Sgeclhcarea numeharde Users Comenzi compuse i dehnitie
Fwelele de conﬂguvave a Lamuri de comenm simple
mleIQrelOIMm de comerm . . .
Execuna seovennma a mal multor comenm
‘We Wm "me Executla para\e\a, nelnlantuna a men muhor cornenm
Executia conditionalé a men muhor comenzx
Sinlaxa extinsé: hsie de ccmenzi
Speciiicarea numelur de fisiere
Spemficarea hsierelur individua\e
Sabloane pentru specificarea multiple": de hsiere
Fisierele de configurare a interpretorului de comenzi
lnitiahzarea sesiumlor interactwe ale she/[rului
lsioricul comenzilor executate
Referinte bibliografice
Memu de navigare Lucrul la linia de comandé Tn um. paltea a lH-a: lmerpvelcare d9 cumenzi UNIX, partea | - prezentare generalé 4 / 26

***************Ending Page***************

***************Beginning Page***************
***************page number:5**************
Comenzi simple — definiiie
‘"‘mm'e Comenzile simple sunt “componentele” individuals ce pot fi “asamblate” in comenzi
Comenzisimgle . . I I I I I I I I II
Cumenzisimpleideiinme compuse, folosInd anumm operator! smtact/c! de compunere, ce vor fl descr|$| |n
“memmm'e . seciiunea urmétoare.
$311110 lnsa, pentru inceput, sa ne reamlntlm faptul ca li'i Sistemele de operare din familia
MP‘ UNIX existé doué categorii de comenzi simple:
Sgecliicarea numeiur de iisiere
FiIine'eIlIfodejomufja I Comenzi interne: sunt implementate in interpretoarele de comenzi.
Relwmiogiam Exemp'ei Cd’ help‘ 5-8-
I Comenzi externe: sunt implementate de sine stététor (i.e., se gésesc ﬁecare in
céte un ﬁsier, avénd ace|a$i nume cu comanda respectivé), in:
i fisiere executabile (i.e., programe executabile obtinute prin compilare din
programe sursé scrise in C sau in alte limbaje de programare).
Exemple: passwd, ls, $.a.
— fi$iere text cu secvente de comenzi, numite script-uri.
Exemple: .profile, .bashrc, $.a.
Meniu de navigare Lucrul ia linia de comandé in UNIX, paviea a Iii-a lnierpveiuare de Comenzi UNIX, paviea | - prezeniare genevaié 5 126

***************Ending Page***************

***************Beginning Page***************
***************page number:6**************
Modul de execulie a comenzilor simple

‘""me'e Forma generalé de lansare ln execulie a unei comenzi simple, interné sau externé:
Cnmenzl slmgle
31:3"Zilijléie'mme UN IX> comamda [0p f. 'L'um'] [argument e] [Tedi'rec t d'm' 1/0]
camenzllorsmple
iﬁiigifuiimem'“ we ‘" Observalii:
2192:3359 I Textul “UNIX> " este prompteru/ afisat de interpretorul de comenzi, la care acesta asteapté sé
s whom"umemehm tastati comanda dorité, urmaté de apésarea tastei ENTER.
mm decmuwea Noté: textul afisat ca si prompter este configurabil — vom discuta ulterior cum anume.
MW I Drept caracter separator intre cuvintele din linia de comandé se utilizeazé SPACE sau TAB.
W I Optiunile si/sau argumentele specificate dupé numele comenzii pot eventual lipsi (i.e., sunt

optionale, lucru indicat printr-o pereche de paranteze ‘E. . .1‘; acestea nu trebuie tastate).

I Prin convenlie, opliunile sum preoedate de caracterul (sau Tn cazul opliunilor lungi).

I Semniﬁcalia argumentelor depinde de comandé (e.g., cel mai adesea sun! nume de fisiere).

I Comenzile externe pot fi specificale si prin numele complet (i.e., ca/ea absoluté sau relativé) al
fisierului respectiv.

I O comandé mai lungé (lie, cu multi parametri) poate fi introdusé pe mai multe linii, caz Tn care
fiecare linie trebuie terminaté cu caracterul ’\’ urmat de ENTER, cu exceplia ultimei linii (terminarea
acesteia se face apésénd doar tasta ENTER).

I Despre ce lnseamné redirectéri l/O vom discuta ulterior, tot Tn aceasté prezentare.

Meniu de navigare Lucrul la linia de comandé Tn UNIX, pavlea a Ill-a lnlerpveluare de cumenz'l UNIX, pavlea | - prezenlare genevalé a 126

***************Ending Page***************


***************Beginning Page***************
***************page number:7**************
Modul de execuiie a comenzilor simple (cont)

‘""me'e O alté posibilitate de a lansa in executie o comandé simplé, valabilé numai pentru

Comerm su'ngle . . . . . .

Camemmpleidmme comenZI externe ce sunt script-um, este pr|n apelul unul anumlt shell:

i:3;£32‘;““"'°’W“ UNIX> bash scmpt [opﬁwm] [arguments] [Ted'z'recta'm I/U]

Hedlremérll/O A . . . . . A .

comm", use In acest caz, flslerul de comen2| cu numele script va fl executat, Intr-o sesmne

w neinteractivé, de cétre 0 instanté a shell-ului invocat pe prima pozifrie din linia de

F\s\erele 0e conﬁguvavea v A

wwemmmmm comanda (In acest exemplu, she/I-ul bash).

W Observatie: dacé nu se speciﬁcé niciun script dupé numele she/liului invocat pe prima pozilie din linia
de comandé, se va crea 0 noué sesiune de Iucru interactivé, controlaté de 0 instanté de executie a
she/I-ului specificat.
lar o a treia posibilitate, tot numai pentru comenzi externe ce sunt script-uri, este
urmétoarea, cu doué forme sintactice echivalente:

UNIX> . script [optium'] [argumente] [Tedirectdr'i 1/0]
UNIX> source script [optiuni] [arguments] ['redi'rectii'rv; I/O]
Memu d9 navigare LucruHalinia de comandéTn UNIX,pavteaall\-a lnterpveluare de cumeninNIX,pavieal-prezemare genevalé 7/25

***************Ending Page***************

***************Beginning Page***************
***************page number:8**************
Execugia comenzilor simple in background
:‘mm'e I in cazul formelor de lansare Tn executie descrise pe slide-urile anterioare, spunem cé
31:3";jjefjéfr"we acea comandé simplé este executaté in foreground (i.e., Tn “planul din faté"),
2368;211:5130, We m deoarece interpretorul asteapté terminarea executiei acelei comenzi $i abia apoi
Qilﬂw reaf|$eaza prompterul, ofennd utlllzatorulul posmllltatea sa Introduca o noua comanda
MP‘ pentru executie.
Sgeclhcarea numehar de (were
we'elidiwanwavea O alté manieré de executie a comenzilor ar fi Tn background (i.e., in “planul din
Relennmmgym spate"), adicé interpretorul s5 nu mai astepte terminarea executiei acelei comenzi, ci
s5 reafiseze imediat prompterul, oferindu—i astfel utilizatorului posibilitatea sé
introducé imediat 0 noué comandé pentru executie.
Sintactic, specificarea modului de executie in background a unei comenzi se face
adéugénd caracterul ‘Sc’ la sférsitul liniei de comandé:
UNIX> comanda [optiuni] [arguments] [redirecti'ri I/O] 86
Noté: Tn cazul comenzilor externe ce sum scripturi, se poate adéuga ’&’ Ia finalul oricéreia dintre cele
trei forme de Iansare Tn executie specificate anterior.
Meniu de navigare Lucrul \a linia de comandé Tn UNIX, partea a lH-a lnterpveluare de comenzi UNIX, partea | - prezemare geneva\é a 126

***************Ending Page***************

***************Beginning Page***************
***************page number:9**************
Redirectéri l/O

:‘mm'e I Exista trei dispozitive logice de l/O standard:

aijjjgjjefjhgfi"“‘e I intrarea standard (stdin), de la care se citesc datele de intrare in timpul executiei

Zigflilllﬁzsﬁwswpie." unei comenzi (prin funciiile de l/O ce acceseazé file-descriptorul O);

32:11:10 I iesirea normala“ standard (stdout), la care sunt scrise datele de ie$ire in timpul

Mp‘ executiei unei comenzi (prin functiile de l/O ce acceseazé file-descriptorul 1);

W I ie$irea de eroare standard (stderr), la care sunt scrise mesajele de eroare in

m timpul executiei unei comenzi (prin funciiile l/O ce acceseaza ﬁle-descriptorul 2).
in mod implicit, dispozitivul logic stdin este atasat dispozitivului fizic tastatura (i.e.,
terminalul de intrare), iar dispozitivele logice stdout 5i stderr sunt atasate
dispozitivului fizic ecran (i.e., terminalul de ie$ire).
insé, interpretorul de comenzi poate “forta” o comanda ca, pe parcursul execuiiei sale,
sé primeascé datele de intrare dintr-un fisier specificat, in locul citirii lor de la
tastaturé, precum $i sé trimité datele de iesire si/sau mesajele de eroare intr-un fi$ier
specificat, in locul afi$érii lor pe ecran.

Meniu de navigare Lucrul ia linia de comandé in UNIX, partea a lli-a lnterpreluare de comenzi UNIX, partea | - prezeniare generaié 9 126

***************Ending Page***************

***************Beginning Page***************
***************page number:10**************
Redirectéri l/O (cont)
WWW Aceasté “fortare” poarté numele de redirectarea fluxului (sau fluxurilor) l/O respective,
4W§§§§§§p§imm si este valabilé doar pentru acea executie a comenzii $i, mai ales, féré sé fim nevoiti
Zﬁilgﬁilﬁilia s5 facem modificéri Tn codul sursé al comenzii 5i s-o recompilém!
Execunacomenz-lorswwein . . v . . v _ y _
WWW, Reahzarea redlrectanlor se face folosmd urmatoarea smtaxa.
Hedvemérl l/O
0mm comguse I redirectarea intrérii standard (stdin):
Sgeclhcareanumehardehsmre UNIX> comanda [parametri] < fieier_intrare
Pfe'elfdiws'wwa'ea I redirectarea iesirii norma/e standard (stdout), Tn modul rewrite vs. append:
m WNW ecomerm . . . . .
UNIX> comamia [parametrz] > f1s1er_1es1re
Revermlembhogvance _ q _ _ ,
UNIX> comanda [parametm] >> f1$1er_1es1re
I redirectarea iesirii de eroare standard (stderr), in modul rewrite vs. append:
UNIX> comanda [parametri] 2> fieieriiesireierr
UNIX> comaruia [parametri] 2>> fi$ier_iesire_err
laté un exemplu, avénd ca efect concatenarea coniinuturilor primelor doué fisiere Tn cel de_a| treilea:
UNIX> cat fisl fis2 > fisS
Se pot specifica mai multe redirectéri Tntr-o comandé, evaluarea lor efectuéndu-se de Ia sténga spre
dreapta. in plus, existé si sintaxa n >Xcm, unde n,m sunt file-descriptor]. laté un exemplu:
UNIX> ls ,1 .bashrc 1m_fz',sie'r_ inem'stent >1isting.txt 2 >8! l
Memu de navigare Lucrul \a linia de comandé Tn 1mm, partea a lH-a lnterpveluare de cumenzi UNIX, partea | - prezemare generalé 1o / 25

***************Ending Page***************

***************Beginning Page***************
***************page number:11**************
Agenda
\mruducere |ntr0ducere
C°'“E"Z‘S"“ IE ComenZI slmple
45>‘CWEMWW use Comenzi simple — defmme
Comerm campuseidehnme .
Modul de execulle a comenleor sxmple
Lanlunde comerm swme v _ _
Execuha servermma‘ a mal Executla comenzﬂor Slmple |n background
muﬂuvcnmenzl y -
Execuha Davmmé, HEWEHIUIIE Redxrectan l/O
a mm muuommem ‘
Execuha condmnna\A a mm COI'TIEHZI COmpUSE
m“"°'°°"'°"lj Comenzi compuse i dehniue
Slmaxa Extmsa llsle de _ _
numerm Lamurl de comenm slmple
Sgecihcalea "umwde "we Execuna seovennaki a mai mmtor comenm
“MIME mmmm Execuna para\e\a. nemlantuna a men muhor cornenm
mm Execuna condihonalé a max muhor comenzx
Helennle mhhngvahcs Smlaxa extinsé hste de comenzi
Speciiicarea numelur de fisiere
Spemficarea hsierelur individua\e
Sabloane pentru specificarea multiple": de hsiere
Fisierele de configurare a interpretorului de comenzi
lnitiahzarea sesiumlor interactwe ale she/[rului
lsioricul comenzilor executate
Referinte bibliografice
Memu de navigare Lucrul la linia de comandé Tn um. paltea a lH-a: lmerpvelcare d9 cumenzi UNIX, partea | - prezentare generalé n /2a

***************Ending Page***************


***************Beginning Page***************
***************page number:12**************
Comenzi compuse - definigie

‘"‘mm'e Doué sau mai multe comenzi simple se pot “grupa” intr-o comandé compusé, prin

Comenmsmgle I . I . I I .. II I

WWW use scrlerea lor pe un smgur rand (la prompterul ||n|e| de comanda sau |ntr-un script),

f:§j"j::f”::;fme"""‘e separate prin urmétorii operatori sintactici de "compunere" a comenzilor simple:

,. m \ we

Execuha secvermaﬁ a mal

SIS'ZﬁFSZTQé,"swam I operatorul ‘;’ — executia secventialé a mai multor comenzi

i37f;‘;;°§§g‘°"a‘ma‘ I operatorul ’ l’ — execuiia para/elé, fn/éntuité a mai multor comenzi simple

Smaxa extmsé hsle de , , . I A I . y . .

mm I operatorul 8c — executla para/ela, ne/nlantulta a mal multor comen2|

w I operatorii ‘8:86’ $i ’ | | ’ — execuItia conditional/é de comenzi

Helennlemhhngvahcg Semantica (i.e., semnificatia) fiecéruia dintre acesti operatori de compunere este
descrisé sumar Tn cele ce urmeazé. Avertisment: descrierea se axeazé pe sintaxa
folosité de interpretorul de comenzi bash; in cazul altor shell-uri UNIX, sintaxa
comenzilor compuse s—ar putea s51 difere (i.e., s51 se utilizeze alti operatori de
“compunere”, etc.).
Nola”: pentru o descriere detaliaté, vé recomand consultarea documentatiei oficiale a
she/I-ului bash, disponibilé aici.

Meniu de navigare Lucrul \a linia de comanda Tn UNIX, partea a lH-a lnterpveluare de comenzi UNIX, partea | - prezemare geneva\é 12 12a

***************Ending Page***************

***************Beginning Page***************
***************page number:13**************
Laniuri de comenzi simple
2:132; IE inlénluirea mai multor comenzi simple, intr-un asa-numit Iani‘ de comenzi (sau
Mummy“ pipeline), se realizeazé lolosind simbolul ‘l ’ (caracterul pipe), astfel:
fzxfffljzfﬁixﬁzw UNIX> [time] comanda_ 1 | comanda_2 | . . . | c0manda_1il
EXQLUIaSLZWLLWZM Simbolul ’|' marcheazé “conectarea” ie$irii normale standard a unei comenzi la
Eglm'ﬁiﬁimgm intrarea standard a comenzii urmétoare din lanlul de comenzi; comunicaiia intre cele
Simi" "We doué comenzi se face printr-un canal de comunicaiie anonim (in acest iel, se eliminé
We necesitatea comunicérii prin intermediul unor fisiere temporare, precum in MS-DDS sau Windows).
M Cuvéntul cheie time are drept elect afisarea timpilor de execuiie a lantului.
MEL Nola”: este permis si N: 1, adicé un lani format dintr-o singuré comandé simplé.
Modu/ de execulie a unui lani de comenzi:
Toate comenzile simple din lantul respectiv sunt executate simultan, in “acelaei” timp
(i.e., in paralel, $i nu secveniial una dupé altal), ﬁecare comandé fiind executaté de
cétre o noué instanié de execuiie a shell-ului. Practic, se creeazé procese multiple,
céte un proces pentru fiecare comandé din lani.
Meniu de navigare Lucmlialinia de comandéin UNIX,paiieaalli-a lnierpieluare de cumeninNIX,paiieal-prezeniare geneialé 13/26

***************Ending Page***************

***************Beginning Page***************
***************page number:14**************
Lanturi de comenzi simple (cont)

‘""me'e laté céteva exemple de lanturi de comenzi:

Cornerm svngle

UNIX> 1S —A1 l WC -1

f:§j"j::f”::fme"""‘e Efect: afiseazé numérul total de fisiere de orice tip (i.e., inclusiv subdirectoare)

iiiiiﬁsmeiimmmz' existente in directorul curent.

Execuha Dava\e\é, neiméntmlé

gnaww'wnwy UNIX> who | cut -f1 -d" " | sort -u

xecuha condmnnaﬂa a mm

$222112? We Efect: afiseazé lista ordonaté a numelor utilizatorilor conectajti la sistem.

Sgecihcarea nume\crdel\§\ele UNIX> cat /etC/paSSWd I grep —W SO

Fxsxerelsdecnnhgmavea Efect: ?

MM‘ Demo: a se vedea toate exemplele de lanturi de comenzi din suportul de laborator,
disponibil aici. Primul exemplu descrie $i efectul folosirii cuvéntului cheie time.
Sintaxa extinsé: Tn locul oricérui simbol 'l', dintr-un Ian; cu N Z 2, se poate utiliza
perechea ' | 8c’, care este o prescurtare pentru ’2>&1 I’, prin care se realizeazé
“conectarea” ambelor iesiri standard ($i cea normalé, 3i cea de eroare) a unei
comenzi la intrarea standard a comenzii urmétoare din lantul de comenzi.

Meniu de navigare Lucrul \a linia de comandé Tn UNIX, partea a lH-a lnterpveluare de comenzi UNIX, partea | - prezemare genevalé 14 126

***************Ending Page***************

***************Beginning Page***************
***************page number:15**************
Executia secventialé a mai multor comenzi
‘“"“d“°""’ Mai multe comenzi (simple sau lanturi cu N Z 2) pot fi separate prin caracterul ';’ $i
CnmenzIsIrngle . . . V A . A A . .
Gamma". use vor fI executate secventlal (I.e., una dupa alta, In ordInea In care apar In |InIa de
CmnzI m *GIINI v v -- v . . .
Lszndjjozjijwewe'e comanda), de catre aceeasl Instanta de executle a shell-ulw respectlv.
Execuna secvenIIaIiamaI - - ._, . . . .
WWW SIntaxa folosna (unde ercare comanda_ 7, este un lant de comenZI Slmple) :
Execuha DaIaIeIé, neInIéntuIlé
gggmg;§§g§;gm UNIX> comanda_ 1 ; comzmda_2 ; . . . ; comanda_1ll
f;“;111f“‘"“ "We Echivalent, cele N comenzi se pot scrie fiecare pe céte un rénd, la prompter sau
SgeclhcareanumeIcrdelIsIere Tntr-un script, astfek
InlergvelorquIdecomsnzI comanda_ 1
HeYsIInle DIbIIngIaIIce COmGJLdG, 2
comanda_1V
laté si un exemplu:
UNIX> ls —A ; cd html ; ls —l
Efect: ?
MenIu d9 navigare Lucrul Ia linia de comandé In UNIX, partea a III-a lnterpveluare de cumenz'I UNIX, partea I - prezemare genevaIé 15 I 25

***************Ending Page***************

***************Beginning Page***************
***************page number:16**************
Executia paralelé, neinléntuité a mai multor comenzi
‘“"“d“°“"’ Mai multe comenzi (simple sau lanturi cu N Z 2) pot fi separate si prin caracterul ’&’ $i
MN‘ vor fi executate (aproape) simultan, fiind lansate pe rand in executie in background
C m nzi m , _, v A . . v . . v v . A v I .
4W2“Zimpildeme (i.e., tara a se astepta, pe rand, terminarea ﬂecareia 5| fara a avea ﬂuxurile IIO standard “inlantulte” prin
Zilliiiﬁiiivmeiiiiifi‘; pipe, precum Ia Ianturile de comenzi). Practic, fiecare comandé este executata de catre o noué instanta
mulwimenzy ‘ y y de executie a she/leului si ruleazé in mod independent de celelalte (i.e., féré ‘"lnlénftuiri" intre ele).
Executia Daiaieia, neinianluila
EQZL$!§;§:§§;§W Sintaxa folosita (unde tiecare comanda_ z este un lant de comenzi simple) :
mullnrcomenzi
223;;fo ham UNIX> comanda_ 1 8L comanda_ 2 85 . . . 8L comanda_1il [8L ]
Speciﬁcama"wetmmm ultima comandé puténd fi rulata fie in background (dacé este terminate“! cu caracterul ‘&‘), fie in
FiSierelsdscnnliguiaiea foreground (in caz contrar).
lnlergielomiuids comenzi . _ . _ A A _ H
mmm mm Echivalent, cele N comenZI se pot scrie fiecare pe cate un rand. la prompter (dar astfel “defazajul de
start al lor va creete, depinzénd de viteza cu care Ie introduceti de Ia tastaturé) sau intr-un script, astfel:
comamia, 1 8c
comanda_2 8c
c0manda_1V [8L]
laté si un exemplu:
UNIX> cat /etc/passwd 8L cat /etc/gr0up [ll]
Efect: ?
Meniu de navigare Lucrul ia linia de comandé in UNIX, paitea a Iii-a lnterpieluare de comenzi UNIX, paitea | - prezentare generalé ta 126

***************Ending Page***************


***************Beginning Page***************
***************page number:17**************
Executia condigionalé a mai multor comenzi
‘Mum Execulia unei comenzi poate fi conditionaté de rezultatul executiei unei alte comenzi.
MN‘ Sintaxa folosité (unde comanda_1 si comanda_2 sunt lanturi de comenzi simple) :
Comerm CQmQuse
eumenzwompusememne , , n . . ,, v .
Lammememm I operatorul && — conjunctla a doua comenzn
Execuha secvermaﬁ a mal
W'meu ‘ , , UNIX> comanda_ 1 && comanda_2
Execuha pavawm, newanlmla
Eglﬁgﬁﬁﬁﬁgﬁm Modu/ de execulie: mai intéi se executé prima comandé, iar apoi se va executa a
fgaexnazfxm "We doua comandé numai dacé execulia primei comenzi se terminé cu succes (i.e.,
Sgecihcarea"Wehlrdehwre dacé comanda_1 Tntoarce codul de terminare O ).
Eifg'iiﬁiiﬂlii'ifni I operatorul ‘ | l‘ — “disjunctia” a doué comenzi:
MEWS‘ UNIX> comanda_ 1 | | comanda_2
Modul de execuiie: mai intéi se executé prima comandé, iar apoi se va executa a
doua comandé numai dacé executia primei comenzi se terminé cu eroare (i.e.,
dacé comanda_1 Tntoarce un cod de terminare nenul ).
Observalii: i) Se poate remarca analogia cu evaluarea scurt-circuitaté a expresiilor logice booleene.
ii) Sunt permise si secvenle formate din mai mult de doué comenzi separate prin operatorii ‘848:’ si ’\ I’,
ce au aceeasi precedenté, iar pentru executia Ior se va aplica asociativitatea Ia sténga a operatorilor.
Meniu de navigare Lucrul \a linia de comandé Tn UNIX, partea a lH-a lnterpveluare de comenzi UNIX, partea | - prezemare genevalé 17 126

***************Ending Page***************

***************Beginning Page***************
***************page number:18**************
Sintaxa extinsa: liste de comenzi
‘""me'e O listé de comenzi este 0 secventé de una sau mai multe pipelines (i. e., lanturi de
Cnmenzrsrmgle I I A I II ‘I: I I I I I I I I
CIMIIZIWII comenZI Slmple), separate Intre ele prln operator“ , , 8c , && ,sau | | ,sl oprlonal
f:§j"j::f”::;fme"""‘e terminaté cu unul dintre caracterele ’;’ , ’&‘, sau <new1ine>.
,. m r we
Execuhasecvemraﬁamal I I I I
mulwvcnmenzy I I I Modul de execuile a unel llste de comenzr :
Execuha Davama, Hermanlmla
EQZL$22$3I2§QQW Se evalueaza secventa de lanturl de la stanga la dreapta, frlnénd cont de ordlnea data
fﬂlxnlema ‘We de precedenta operatorllor: && SI | | au aceeasl precedenta, mal mare decat cea a
Swami"wermwm operatorilor ‘;‘ $i ’&’ , care de asemenea au aceeasi precedenla. Apoi se executa
ﬁifgiioijrjﬂlii'ﬁ; ﬁecare Ian; din listé, Tn ordinea astfel stabilité, aplicand pentru fiecare operator
MM‘ semnificatia sa, descrisé pe slide-urile anterioare.
Noté: pentru o descriere mai detaliaté a lanturilor de comenzi si a listelor de comenzi,
va recomand consultarea documentariei oficiale, disponibilé aici.
Meniu de navigare Lucrul \a linia de comandé Tn UNIX, partea a lH-a lnterpreluare de comenzi UNIX, partea | - prezemare genera\é rs 126

***************Ending Page***************

***************Beginning Page***************
***************page number:19**************
Agenda
\mruducere |ntr0ducere
Comenmslm IE Cumenz| simple
ML Comenzi simple — defmme
Speclilcalea numeblde were Modul de execulie a comenleor ample
Speclhcarea (\slerehwv v . .
WWW“ Executla comenzﬂor slmple |n background
Sabloane pemw specmcarea Redwectéri l/O
mumwa deilsleve
Fxsxerele de cnnlxgmave a Comenz| compuse
mlergvelormm de camsrm Comenzi compuse i dehnitie
Hwennle mbhngvahce Lamuri de comenm simple
Executia seovennmé a mai multor comenm
Executia para\e\é, neinléntuité a men muhor cornenm
Executia conditionalé a men muhor comenzx
Sinlaxa extinsé: hsie de ccmenzi
Speciiicarea numelor de fisiere
Specxficarea hsierelur mdiwduwe
Sabloane pentru specificarea multiple“: de hsiere
Fisierele de configurare a interpretorului de comenzi
lnitiahzarea sesiumlor interactwe ale she/[rului
lsioricul comenzilor executate
Referinte bibliografice
Memu de navigare Lucrul la linia de comandé Tn UNIX. paltea a lH-a: lmerpvelcare d9 cumenzi UNIXv partea l — prezentare generalé 19/26

***************Ending Page***************

***************Beginning Page***************
***************page number:20**************
Specificarea fi$ierelor individuale
‘""me'e Specificarea numelui unui fisier oarecare, fie ca argument pentru comenzi, fie drept
W nume al unei comenzi externe, se poate face in trei moduri diferite:
ﬁﬁ?ﬁll‘§;'§a"s'e'e‘“' I prin cale absolute? (i.e., numele complet, pornind de la directorul rédéciné)
ﬁjﬂﬁ;jijfQJPEMWWEE Exemplu: / home / vi dr as cu/ so/ f i l eOOO3 . txt
Eféf'fgofjjcfggg;fn; I prin cale relativé la directorul curent de lucru (i.e., pornind din directorul curent)
Hewemgm Exemplu (presupunénd cé directorul cu rent este /home/vidrascu) :
so/fileOOO3 . txt
I prin calea re/ativé la directorul home al unui anumit utilizator (i.e., pornind din
directorul home al acestuia)
Exemplu: ~vidrascu/so/file0003 . txt
Observatii: i) dacé lipse$te numele utilizatorului (e.g., ~/so/f i 1e0003.txt),
atunci se consideré directorul home al utilizatorului curent;
ii) acest al treilea mod de specificare se poate folosi doar la linia de comandé sau
in script-uri, dar nu $i ca argumente ale funcliilor apelate in programe C.
Meniu de navigare Lucrul \a linia de comandé Tn UNIX, partea a lH-a lnterpveluare de comenzi UNIX, partea | - prezemare geneva\é 20 126

***************Ending Page***************

***************Beginning Page***************
***************page number:21**************
$abloane pentru specificarea multipla de fieiere
‘""me'e Se poate specifica o lista de fisiere, ca argumente pentru comenzi, utilizand un singur
W “$ab|0n" de specificare multipla, cu ajutorul urmatoarelor caractere cu interpretare
Jéiip:::i::::::::.::::“" Spadaﬁ‘
{TSLTW' I caracterul ‘*‘ : se Tnlocuieete cu orice sir de caractere, inclusiv $irul vid
Ftstereledecnnltguvavea Exemplu: ~vidrascu/ so / f ile* . txt
Hemem m, I caracterul ’?’ : se Tnlocuieete cu orice caracter (exact un caracter)
Exemplu: ~vidrascu/so/file000?.txt
I specificatorul “multime precizaté de caractere" [. . .] : se inlocuieste cu exact un
caracter, dar nu cu orice caracter posibil, ci doar cu cele specificate intre
parantezele ’[‘ 3i ']‘, sub formé de enumerare (separate prin sau nimic) ei/sau
interval (dat prin capetele intervalului, separate prin '-’)

Exemple: ~vidrascu/so/fileOOO [1 , 3 , 579] .txt,
~vidrascu/so/file00 [0-9] [3-9] .txt,
~vidrascu/so/file000 [1-3 , 57-9] .txt.

Meniu de navigare Lucrultalinia de comanuatn UNIX,pavteaallt-a lnterpvetuare de cumenz'tUNIX,pavteal-prezentare generaté 21/26

***************Ending Page***************


***************Beginning Page***************
***************page number:22**************
$abloane pentru specificarea multiplé de fi$iere (cont.)
‘"‘mdm'e (continuare)
22mm; I speciﬁcatorul “multime exclusé de caractere" [". . .] : se inlocuieete cu exact un
W caracter, dar nu cu orice caracter posibil, ci doar cu cele din complementara
£1121??mematures multimii specificate Tntre parantezele ’[’ si ’]' similar ca mai sus, excepténd faptul
ISILPLEZQMWHE cé primul caracter de dupé ’[’ trebuie s51 fie ’“’ pentru a indica complementariere
m Exemplu: ~vidrascu/so/file000[*1-3] .txt:
I caracterul "\ : se foloseste pentru a inhiba interpretarea operator a caracterelor
speciale anterioare, $1 anume \c (unde c este unul dintre caracterele '7‘, ‘[’, ‘1’,
’\‘) va interpreta acel caracter c ca text obisnuit (i.e., prin el Tnsuei) $i nu ca
operator (i.e., prin “$ab|onu|" asociat lui in felul descris mai sus)
Exemple: ce_mai_faci\?.txt , lectie\ [lesson] .txt.
Important: fiecare astfel de eablon este Tnlocuit, Tn pozitia din linia de comandé in care apare, cu lista
tuturor numelor de tisiere existente 0e satisfac acel sablon, dar numai dacé Iista respectivé este nevidé.
In caz contrar, sablonul réméne nemodificat Tn urma interpretérii sale.
Noté: se mai pot specifica si sab/oane negate. Un exemplu ar fi: 1s ! (* . sh)
Meniu de navigare Lucrul ra linia de comandé Tn UNIX, partea a lH-a lnterpretoare de comenz'r UNIX, partea | - prezemare generalé 22 126

***************Ending Page***************

***************Beginning Page***************
***************page number:23**************
Agenda
\mruducere |ntr0ducere
Comenmslm IE Cumenz| simple
ML Comenzi simple — defmme
Sgeclhcalea numemvde were Modul de execulie a comenleor ample
nwele de cnnhgmavea Executia comenleor simple in background
\nlergvelomhn de comenzx v .
\nmalllaféa SeSmnHOI RedWeCtarl l/O
u’ .
mleracnve Ne she Mm ComenZI COmleSe
\sloncul mmenzﬂor exacutale , _ .
Comerm compuse i dehnltle
HBYeHnle mhhngvahcs . .
Lamurl de comenm slmple
Executia seovennmé a mai multor comenm
Executia para\e\é, neinléntuité a men muhor cornenm
Executia conditionalé a men muhor comenzx
Sinlaxa extinsé: hsie de ccmenzi
Speciiicarea numelur de fisiere
Spemficarea hsierelur individua\e
Sabloane pentru specificarea multiple": de hsiere
Fisierele de configurare a interprelorului de comenzi
lniHahzarea sesmmlor interachve ale she/[rului
lstoricul comenzilor executate
Referinte bibliografice
Memu de navigare Lucrul la linia de comandé Tn um. paltea a lH-a: lmerpvelcare d9 cumenzi UNIX, partea | - prezentare generalé 23 / 26

***************Ending Page***************

***************Beginning Page***************
***************page number:24**************
lni'Irializarea sesiunilor interactive ale shell-ului
‘""me'e lnterpretoarele de comenzi din UNIX pot folosi anumite fi$iere ce stocheaza diverse
Comenzi simple I I I I I I I I I
WWW use comenZI de configurare a seSIumlor |nteract|ve de execuiie a she/I-ului respectlv,
swim,"umeimdeim numele acestor fieiere ﬁind specific acestuia.
if;l’?li§§ii§li“$2§; Astfel, in cazul interpretoruiui de comenzi bash, se foiosesc urmatoarele ficiere ([3]) :
iswnwlmmimeme I fisiere de Initial/zare a SeSlUnliOi' bash de log/n:
Heisiirile biblingialice I I I I II .
— script global, executat pentru toil utilizatorii: /etc/proflle
— script-uri locale, specifice utilizatorului respectiv: ~/ . bash_profile,
~/ .bash_1ogin sau ~/.profile
I fie/er de ﬁnalizare a acestor sesiuni — doar script local: ~/ .bash_1ogout
I fi$iere de iniItia/izare a sesiunilor bash interactive, cu excepiia celor de Iogin:
— script local, specific utilizatorului respectiv: ~/.bashrc
— script global, executat pentru toii utilizatorii: /etc/bashrc (insa acesta
trebuie apelat explicit din script-ul local)
Meniu de navigare Lucrul la linia de comanda in UNIX, pavlea a Ill-a lnlerpveloare de cumenzi UNIX, pavlea | - prezeniare genevalé 24 126

***************Ending Page***************

***************Beginning Page***************
***************page number:25**************
lstoricul comenzilor executate

‘"‘mm'e I fie/er de istoric ai comenzilor introduse $i executate la linia de comandé bash- un

Cnmenzisimgle . . _

WWW‘ use flsler local, cu numele ~/ . bash_h1story

Speclilcalea numeiordeii§iele , , , , . . . . .

Mledmwma Contlnutul acestw flsler poate fl Vlzuailzat ($l) cu comanda hlstory.

inlergrelomim de carnenzi . v t. . . A

immmmi Numerele afisate de aceasta comanda pot fl tolosrte pentru a executa in mod repetat

mmmenmxecume comenzile din istoric, téré a ti nevoie sé mai tie re-tastate. Si anume, pentru a invoca

MM‘ din nou o comandé, se tasteazé la prompterul liniei de comandi caracterul ‘!’ urmat
imediat de numérui asociat comenzii respective.
O alté facilitate utilé a interpretorului bash, ce permite invocarea comenzilor tastate
anterior, precum si editarea lor, consté in navigarea prin istoric prin apésarea, la
prompter, a tastelor UP $i DOWN (i.e., tasteie ségeaté-sus $i ségeaté-jos). Dupé
selectarea din istoric a liniei de comandé dorite, ne putem deplasa in cadrul ei cu
tastele ségeaté-sténga si ségeaté-dreapta pentru a modifica partial linia respectivé
(e.g., moditicém, stergem sau adéugém vreun parametru al comenzii) 5i apoi apésém
tasta ENTER pentru a se executa comanda astfel modificaté.

Meniu de navigare Lucrul ia linia de comandé in UNIX, partea a Iii-e lnterpretuare de cumenzi UNIX, partea | - prezentare generaié 25 126

***************Ending Page***************

***************Beginning Page***************
***************page number:26**************
Bibliografie obligatorie
‘"‘mdm'e [1] Capitolul 2, §2.3 din cartea “Sisteme de operare — manual pentru 1L7‘, autor C. Vidrascu, editura
mph‘ UAIC, 2006. Noté: este accesibil, Tn format PDF, din pagina disciplinei “Sisteme de operare":
C m rm m9
SQ e m use o https : //profs . info . uaic . r0/~vidrascu/SU/books/ManualID-SD . pdf
peclhcalea "umebr de Myers
Elfgrislotiﬁgﬁﬁfnan [2] Suportul online de Iaborator asociat acestei prezentéri:
mam‘ l https : //pr0fs . info . uaic . ro/"vidrascu/SO/labs/sup0rt_lab3 . html
Bibliografie suplimentaré:
[3] Documentatia interpretorului de comenzi bash : man 1 bash , precum si
http : //www . gnu. org/software/bash/manual/bashref .html
[4] Linux Documentation Project Guides —> “Bash Guide for Beginners" :
https : //t1dp . org/LDP/Bash-Beginners - Guide/html/index . html
[5] Cartea “Bash Pocket Reference" (1st edition), by A.Robbins, ‘Reilly Media Inc‘, 2010.
Memu d9 navigare Lucml \a linia de comandi Tn UNIX, partea a lH-a lnterpvelcare de cumenzi nun, partea | - prezemare generalé 26 / 25

***************Ending Page***************

